{"version":3,"sources":["../../src/is-array-like.ts","../../src/contains.ts","../../src/filter.ts","../../src/difference.ts","../../src/is-type.ts","../../src/is-function.ts","../../src/is-nil.ts","../../src/is-array.ts","../../src/is-object.ts","../../src/each.ts","../../src/keys.ts","../../src/is-match.ts","../../src/is-object-like.ts","../../src/is-plain-object.ts","../../src/find.ts","../../src/find-index.ts","../../src/first-value.ts","../../src/flatten.ts","../../src/max.ts","../../src/min.ts","../../src/get-range.ts","../../src/pull.ts","../../src/pull-at.ts","../../src/reduce.ts","../../src/remove.ts","../../src/is-string.ts","../../src/sort-by.ts","../../src/uniq.ts","../../src/union.ts","../../src/values-of-key.ts","../../src/head.ts","../../src/last.ts","../../src/ends-with.ts","../../src/every.ts","../../src/some.ts","../../src/group-by.ts","../../src/group-to-map.ts","../../src/group.ts","../../src/parse-radius.ts","../../src/clamp.ts","../../src/fixed-base.ts","../../src/is-number.ts","../../src/is-integer.ts","../../src/is-number-equal.ts","../../src/is-odd.ts","../../src/max-by.ts","../../src/min-by.ts","../../src/mod.ts","../../src/to-radian.ts","../../src/to-degree.ts","../../src/to-integer.ts","../../src/for-in.ts","../../src/has-key.ts","../../src/has.ts","../../src/values.ts","../../src/to-string.ts","../../src/lower-case.ts","../../src/substitute.ts","../../src/upper-first.ts","../../src/get-type.ts","../../src/is-boolean.ts","../../src/is-date.ts","../../src/is-null.ts","../../src/is-prototype.ts","../../src/is-undefined.ts","../../src/is-element.ts","../../src/request-animation-frame.ts","../../src/clear-animation-frame.ts","../../src/mix.ts","../../src/augment.ts","../../src/clone.ts","../../src/debounce.ts","../../src/memoize.ts","../../src/deep-mix.ts","../../src/index-of.ts","../../src/is-empty.ts","../../src/is-equal.ts","../../src/map.ts","../../src/map-values.ts","../../src/get.ts","../../src/set.ts","../../src/pick.ts","../../src/omit.ts","../../src/throttle.ts","../../src/to-array.ts","../../src/unique-id.ts","../../src/noop.ts","../../src/size.ts","../../src/measure-text-width.ts","../../src/get-ellipsis-text.ts","../../src/cache.ts","../node_modules/tslib/tslib.es6.js","../../../src/utils/flow.ts","../../../src/utils/template.ts","../../../src/utils/dom.ts","../../../src/utils/geometry.ts","../../../src/utils/label.ts","../../../src/utils/path.ts","../../../src/utils/kebab-case.ts","../../../src/utils/context.ts","../../../src/utils/measure-text.ts","../../../src/core/plot.ts","../../src/constant.ts","../../../src/engine/index.ts","../../../src/util/dom.ts","../../src/base.ts","../../../src/attributes/base.ts","../node_modules/@antv/attr/node_modules/tslib/tslib.es6.js","../../../src/attributes/color.ts","../../../src/attributes/opacity.ts","../../../src/attributes/position.ts","../../../src/attributes/shape.ts","../../../src/attributes/size.ts","../../src/factory.ts","../../src/index.ts","../../../src/coord/base.ts","../../../src/coord/cartesian.ts","../../../src/coord/helix.ts","../../../src/coord/polar.ts","../../src/dependents.ts","../../../src/util/graphics.ts","../../../src/util/helper.ts","../../../src/util/bbox.ts","../../../src/util/coordinate.ts","../../../src/util/scale.ts","../../../src/util/axis.ts","../../../src/facet/facet.ts","../../../src/facet/index.ts","../../../src/interaction/action/base.ts","../../../src/interaction/action/callback.ts","../../../src/interaction/action/register.ts","../../../src/geometry/shape/util/path.ts","../../../src/interaction/action/util.ts","../../../src/interaction/context.ts","../../../src/interaction/interaction.ts","../../../src/interaction/grammar-interaction.ts","../../../src/interaction/index.ts","../../../src/theme/util/create-by-style-sheet.ts","../../../src/theme/style-sheet/light.ts","../../../src/theme/util/create-theme.ts","../../../src/theme/index.ts","../../../src/util/tooltip.ts","../../../src/util/padding.ts","../../../src/chart/controller/index.ts","../../../src/chart/controller/coordinate.ts","../../../src/chart/event.ts","../../../src/chart/layout/index.ts","../../../src/chart/util/scale-pool.ts","../../../src/chart/layout/padding-cal.ts","../../../src/chart/layout/auto.ts","../../../src/chart/util/sync-view-padding.ts","../../../src/chart/view.ts","../../../src/chart/chart.ts","../../../src/chart/controller/base.ts","../../../src/chart/controller/tooltip.ts","../../../src/animate/animation/index.ts","../../../src/animate/index.ts","../../../src/geometry/shape/constant.ts","../../../src/geometry/element/index.ts","../../../src/geometry/label/index.ts","../../../src/geometry/shape/base.ts","../../../src/geometry/util/is-model-change.ts","../../../src/geometry/util/parse-fields.ts","../../../src/geometry/util/diff.ts","../../../src/geometry/base.ts","../../../src/geometry/util/group-data.ts","../../../src/util/transform.ts","../../../src/geometry/label/util/index.ts","../../../src/component/update-label.ts","../../../src/component/labels.ts","../../../src/geometry/label/base.ts","../../../src/util/attr.ts","../../../src/util/marker.ts","../../../src/util/legend.ts","../../../src/geometry/shape/util/get-path-points.ts","../../../src/geometry/shape/util/get-style.ts","../../../src/geometry/shape/util/split-points.ts","../../../src/geometry/shape/line/util.ts","../../../src/geometry/shape/line/index.ts","../../src/core.ts","../../../src/theme/style-sheet/dark.ts","../../../src/geometry/path.ts","../../../src/geometry/shape/area/util.ts","../../../src/geometry/shape/area/index.ts","../../../src/geometry/area.ts","../../../src/geometry/shape/edge/index.ts","../../../src/geometry/edge.ts","../../../src/geometry/heatmap.ts","../../../src/geometry/shape/interval/util.ts","../../../src/geometry/shape/interval/index.ts","../../../src/geometry/util/shape-size.ts","../../../src/geometry/interval.ts","../../../src/geometry/line.ts","../../../src/geometry/shape/point/util.ts","../../../src/geometry/shape/point/index.ts","../../../src/geometry/point.ts","../../../src/geometry/shape/polygon/index.ts","../../../src/geometry/polygon.ts","../../../src/geometry/schema.ts","../../../src/geometry/shape/schema/index.ts","../../../src/geometry/shape/violin/index.ts","../../../src/geometry/violin.ts","../../../src/geometry/shape/edge/util.ts","../../../src/geometry/shape/area/line.ts","../../../src/geometry/shape/area/smooth.ts","../../../src/geometry/shape/area/smooth-line.ts","../../../src/geometry/shape/edge/arc.ts","../../../src/geometry/shape/edge/smooth.ts","../../../src/geometry/shape/edge/vhv.ts","../../../src/geometry/shape/interval/funnel.ts","../../../src/geometry/shape/interval/hollow-rect.ts","../../../src/geometry/shape/interval/line.ts","../../../src/geometry/shape/interval/pyramid.ts","../../../src/geometry/shape/interval/tick.ts","../../../src/geometry/shape/line/step.ts","../../../src/geometry/shape/schema/box.ts","../../../src/geometry/shape/schema/candle.ts","../../../src/geometry/shape/polygon/square.ts","../../../src/geometry/shape/point/hollow.ts","../../../src/geometry/shape/point/image.ts","../../../src/geometry/shape/point/solid.ts","../../../src/geometry/shape/violin/smooth.ts","../../../src/geometry/shape/violin/hollow.ts","../../../src/geometry/label/interval.ts","../../../src/geometry/label/polar.ts","../../../src/geometry/label/pie.ts","../../../src/geometry/label/layout/pie/util.ts","../../../src/geometry/label/layout/overlap.ts","../../../src/util/collision-detect.ts","../../../src/util/color.ts","../../../src/util/context.ts","../../../src/geometry/label/layout/interval/adjust-position.ts","../../../src/geometry/label/layout/point/adjust-position.ts","../../../src/geometry/label/layout/path/adjust-position.ts","../../../src/util/text.ts","../../../src/animate/animation/util.ts","../../../src/animate/animation/sector-path-update.ts","../../../src/animate/animation/zoom.ts","../../../src/util/facet.ts","../../../src/facet/circle.ts","../../../src/facet/list.ts","../../../src/facet/matrix.ts","../../../src/facet/mirror.ts","../../../src/facet/rect.ts","../../../src/facet/tree.ts","../../../src/util/stat.ts","../../../src/util/annotation.ts","../../../src/chart/controller/annotation.ts","../../../src/util/grid.ts","../../../src/chart/controller/axis.ts","../../../src/util/direction.ts","../../../src/chart/controller/legend.ts","../../../src/chart/controller/slider.ts","../../../src/chart/controller/scrollbar.ts","../../../src/interaction/action/active-region.ts","../../../src/interaction/action/component/tooltip/geometry.ts","../../../src/interaction/action/component/tooltip/sibling.ts","../../../src/interaction/action/component/tooltip/ellipsis-text.ts","../../../src/interaction/action/element/state-base.ts","../../../src/interaction/action/element/state.ts","../../../src/interaction/action/element/active.ts","../../../src/interaction/action/element/link-by-color.ts","../../../src/interaction/action/element/range-state.ts","../../../src/interaction/action/element/range-active.ts","../../../src/interaction/action/element/single-state.ts","../../../src/interaction/action/element/single-active.ts","../../../src/interaction/action/element/highlight-util.ts","../../../src/interaction/action/element/highlight.ts","../../../src/interaction/action/element/range-highlight.ts","../../../src/interaction/action/element/highlight-by-color.ts","../../../src/interaction/action/element/highlight-by-x.ts","../../../src/interaction/action/element/single-highlight.ts","../../../src/interaction/action/element/range-selected.ts","../../../src/interaction/action/element/selected.ts","../../../src/interaction/action/element/single-selected.ts","../../../src/interaction/action/component/list-state.ts","../../../src/interaction/action/component/list-active.ts","../../../src/interaction/action/component/list-highlight-util.ts","../../../src/interaction/action/component/list-highlight.ts","../../../src/interaction/action/component/list-selected.ts","../../../src/interaction/action/component/list-unchecked.ts","../../../src/interaction/action/component/list-checked.ts","../../../src/interaction/action/component/list-focus.ts","../../../src/interaction/action/component/list-radio.ts","../../../src/interaction/action/mask/base.ts","../../../src/interaction/action/mask/circle.ts","../../../src/interaction/action/mask/rect.ts","../../../src/interaction/action/mask/dim-rect.ts","../../../src/interaction/action/data/range-filter.ts","../../../src/interaction/action/mask/path.ts","../../../src/interaction/action/mask/smooth-path.ts","../../../src/interaction/action/cursor.ts","../../../src/interaction/action/data/filter.ts","../../../src/interaction/action/data/sibling-filter.ts","../../../src/interaction/action/element/filter.ts","../../../src/interaction/action/element/sibling-filter.ts","../../../src/interaction/action/view/button.ts","../../../src/interaction/action/view/drag.ts","../../../src/interaction/action/view/move.ts","../../../src/interaction/action/view/scale-transform.ts","../../../src/interaction/action/view/scale-translate.ts","../../../src/interaction/action/view/scale-zoom.ts","../../../src/interaction/action/view/mousewheel-scroll.ts","../../../src/geometry/label/layout/pie/distribute.ts","../../../src/geometry/label/layout/hide-overlap.ts","../../../src/geometry/label/layout/limit-in-shape.ts","../../../src/geometry/label/layout/limit-in-canvas.ts","../../../src/geometry/label/layout/limit-in-plot.ts","../../../src/geometry/label/layout/pie/outer.ts","../../../src/geometry/label/layout/adjust-color.ts","../../../src/geometry/label/layout/interval/hide-overlap.ts","../../../src/geometry/label/layout/pie/spider.ts","../../../src/animate/animation/fade.ts","../../../src/animate/animation/grow-in.ts","../../../src/animate/animation/scale-in.ts","../../../src/animate/animation/wave-in.ts","../../../src/animate/animation/position-update.ts","../../../src/animate/animation/path-in.ts","../../../src/adaptor/common.ts","../../../src/adaptor/geometries/area.ts","../../../src/adaptor/geometries/line.ts","../../../src/adaptor/geometries/interval.ts","../../../src/adaptor/geometries/edge.ts","../../../src/adaptor/geometries/schema.ts","../../../src/adaptor/geometries/violin.ts","../../src/ext.ts","../../../src/abstract/group-component.ts","../../../src/util/util.ts","../../../src/adaptor/geometries/base.ts","../../../src/util/theme.ts","../../src/util.ts","../../src/line.ts","../../src/bezier.ts","../../src/quadratic.ts","../../src/cubic.ts","../../src/ellipse.ts","../../src/arc.ts","../../src/segments.ts","../../src/polyline.ts","../../../src/utils/tooltip.ts","../node_modules/gl-matrix/esm/mat3.js","../../../src/util/matrix.ts","../../../src/adjusts/adjust.ts","../../src/add-event-listener.ts","../../src/create-dom.ts","../../src/get-style.ts","../../src/get-outer-height.ts","../../src/get-height.ts","../../src/get-outer-width.ts","../../src/get-width.ts","../../src/modify-css.ts","../../../src/utils/padding.ts","../../../src/adaptor/pattern.ts","../../../src/plots/funnel/constant.ts","../../../src/tick-method/register.ts","../../../src/category/base.ts","../../src/fecha.ts","../../../src/util/time.ts","../../../src/util/bisector.ts","../../../src/category/time.ts","../../../src/continuous/base.ts","../../../src/continuous/linear.ts","../../../src/util/math.ts","../../../src/continuous/log.ts","../../../src/continuous/pow.ts","../../../src/continuous/time.ts","../../../src/continuous/quantize.ts","../../../src/continuous/quantile.ts","../../../src/identity/index.ts","../../../src/util/pretty-number.ts","../../../src/util/extended.ts","../../../src/tick-method/cat.ts","../../../src/util/d3-linear.ts","../../../src/util/interval.ts","../../../src/util/strict-limit.ts","../../../src/util/pretty.ts","../../../src/tick-method/quantile.ts","../../../src/tick-method/time-pretty.ts","../../../src/tick-method/index.ts","../../../src/tick-method/time-cat.ts","../../../src/tick-method/linear.ts","../../../src/tick-method/r-prettry.ts","../../../src/tick-method/time.ts","../../../src/tick-method/log.ts","../../../src/tick-method/pow.ts","../../../src/tick-method/d3-linear.ts","../../src/parse-path.ts","../../src/catmull-rom-2-bezier.ts","../../src/parse-path-string.ts","../../src/path-2-absolute.ts","../../../src/process/arc-2-cubic.ts","../../src/get-arc-params.ts","../../src/path-2-segments.ts","../../src/get-line-intersect.ts","../../src/point-in-polygon.ts","../../src/is-polygons-intersect.ts","../../../src/utils/transform/percent.ts","../../../src/plots/tiny-area/adaptor.ts","../../../src/plots/tiny-line/utils.ts","../node_modules/d3-hierarchy/src/treemap/dice.js","../../../src/adaptor/conversion-tag.ts","../../../src/adaptor/connected-area.ts","../../../src/plots/column/adaptor.ts","../node_modules/gl-matrix/esm/common.js","../../../src/abstract/html-component.ts","../../../src/util/draw.ts","../../../src/util/svg.ts","../../../src/core/locale.ts","../../../src/utils/invariant.ts","../../../src/utils/view.ts","../../../src/utils/number.ts","../../../src/utils/data.ts","../../../src/plots/tiny-line/constants.ts","../../../src/utils/hierarchy/util.ts","../node_modules/d3-hierarchy/src/treemap/slice.js","../../../src/shape/base.ts","../../../src/shape/circle.ts","../../../src/shape/ellipse.ts","../../../src/shape/image.ts","../../../src/util/in-stroke/line.ts","../../../src/shape/line.ts","../../../src/shape/marker.ts","../../../src/util/in-path/point-in-path.ts","../../../src/util/in-path/polygon.ts","../../../src/util/in-stroke/arc.ts","../../../src/util/path.ts","../../../src/shape/path.ts","../../../src/util/in-stroke/polyline.ts","../../../src/shape/polygon.ts","../../../src/shape/polyline.ts","../../../src/shape/rect.ts","../../../src/util/in-stroke/rect-radius.ts","../../../src/util/in-stroke/rect.ts","../../../src/shape/text.ts","../../../src/plots/mix/adaptor.ts","../../../src/plots/mix/interactions/association.ts","../../../src/plots/mix/interactions/utils.ts","../../../src/plots/mix/index.ts","../../../src/util/label.ts","../node_modules/@antv/adjust/node_modules/tslib/tslib.es6.js","../../../src/abstract/component.ts","../../../src/tooltip/css-const.ts","../../../src/util/arrow.ts","../../../src/utils/statistic.ts","../../../src/plots/line/adaptor.ts","../../../src/plots/funnel/index.ts","../../../src/interactions/actions/drill-down.ts","../node_modules/d3-hierarchy/src/treemap/squarify.js","../../../src/shape/dom.ts","../../../src/shape/marker/symbols.ts","../../../src/shape/marker/index.ts","../../../src/util/format.ts","../node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/d3-hierarchy/src/hierarchy/iterator.js","../node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/d3-hierarchy/src/hierarchy/find.js","../node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/d3-hierarchy/src/hierarchy/links.js","../../../src/event/graph-event.ts","../../../src/abstract/base.ts","../node_modules/gl-matrix/esm/vec2.js","../node_modules/gl-matrix/esm/vec3.js","../../../src/util/offscreen.ts","../../../src/util/event.ts","../../../src/util/arc-params.ts","../../../src/utils/pick.ts","../../../src/utils/deep-assign.ts","../../../src/core/global.ts","../../../src/adaptor/geometries/point.ts","../../../src/adaptor/geometries/polygon.ts","../../../src/plots/pie/index.ts","../../../src/plots/tiny-line/index.ts","../../../src/plots/histogram/index.ts","../../../src/plots/progress/index.ts","../../../src/plots/progress/adaptor.ts","../../../src/plots/progress/utils.ts","../node_modules/d3-hierarchy/src/accessors.js","../node_modules/d3-hierarchy/src/pack/siblings.js","../node_modules/d3-hierarchy/src/pack/enclose.js","../../../src/interactions/drill-down.ts","../../../src/plots/gauge/constants.ts","../node_modules/d3-hierarchy/src/cluster.js","../node_modules/d3-hierarchy/src/stratify.js","../node_modules/d3-hierarchy/src/tree.js","../node_modules/d3-hierarchy/src/treemap/binary.js","../node_modules/d3-hierarchy/src/treemap/sliceDice.js","../node_modules/d3-hierarchy/src/treemap/resquarify.js","../../../src/utils/pattern/util.ts","../../../src/utils/pattern/dot.ts","../../../src/utils/pattern/line.ts","../../../src/utils/pattern/square.ts","../../../src/utils/pattern/index.ts","../../../src/plots/line/constants.ts","../../../src/plots/line/interactions/marker-active.ts","../../../src/plots/line/interactions/index.ts","../../../src/plots/line/index.ts","../../../src/plots/scatter/constant.ts","../../../src/plots/scatter/index.ts","../../../src/plots/gauge/shapes/indicator.ts","../../../src/plots/gauge/shapes/meter-gauge.ts","../../../src/plots/gauge/index.ts","../../../src/plots/area/constants.ts","../../../src/plots/area/index.ts","../../../src/plots/column/constants.ts","../../../src/plots/column/index.ts","../../../src/plots/bar/constants.ts","../../../src/plots/bar/index.ts","../../../src/plots/tiny-column/constants.ts","../../../src/plots/tiny-column/index.ts","../../../src/plots/tiny-area/constants.ts","../../../src/plots/tiny-area/index.ts","../../../src/plots/ring-progress/constants.ts","../../../src/plots/ring-progress/index.ts","../../../src/abstract/container.ts","../../../src/abstract/element.ts","../node_modules/detect-browser/es/index.js","../../../src/abstract/group.ts","../../../src/abstract/shape.ts","../../../src/util/state.ts","../../../src/util/parse.ts","../node_modules/size-sensor/lib/debounce.js","../node_modules/size-sensor/lib/constant.js","../../../src/types/index.ts","../../../src/plots/area/adaptor.ts","../../../src/utils/conversion.ts","../../../src/plots/bar/adaptor.ts","../../../src/plots/pie/adaptor.ts","../../../src/plots/pie/contants.ts","../../../src/plots/pie/utils.ts","../../../src/utils/matrix.ts","../../../src/interactions/drag-move.ts","../../../src/plots/tiny-line/adaptor.ts","../../../src/plots/tiny-column/adaptor.ts","../../../src/utils/transform/histogram.ts","../../../src/plots/histogram/adaptor.ts","../../../src/plots/histogram/constant.ts","../../../src/plots/progress/constants.ts","../../../src/plots/ring-progress/adaptor.ts","../node_modules/fmin/build/fmin.js","../node_modules/d3-hierarchy/src/partition.js","../node_modules/d3-hierarchy/src/treemap/round.js","../../../src/utils/hierarchy/treemap.ts","../node_modules/d3-hierarchy/src/pack/index.js","../node_modules/d3-hierarchy/src/constant.js","../node_modules/d3-hierarchy/src/array.js","../node_modules/d3-hierarchy/src/treemap/index.js","../../../src/plots/gauge/adaptor.ts","../../../src/plots/gauge/utils.ts","../../../src/plugin/index.ts","../../../src/plots/mix/utils.ts","../../src/lab.ts","../node_modules/d3-timer/src/timer.js","../node_modules/d3-ease/src/linear.js","../node_modules/d3-ease/src/quad.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-ease/src/poly.js","../node_modules/d3-ease/src/sin.js","../node_modules/d3-ease/src/math.js","../node_modules/d3-ease/src/exp.js","../node_modules/d3-ease/src/circle.js","../node_modules/d3-ease/src/bounce.js","../node_modules/d3-ease/src/back.js","../node_modules/d3-ease/src/elastic.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/basisClosed.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../../../src/animate/timeline.ts","../../../src/event/event-contoller.ts","../../../src/abstract/canvas.ts","../../../src/utils/color/blend.ts","../../../src/plots/venn/layout/circleintersection.ts","../../../src/plots/venn/layout/layout.ts","../../../src/plots/venn/layout/diagram.ts","../../../src/plots/venn/constant.ts","../../../src/plots/venn/utils.ts","../../../src/plots/venn/shape.ts","../../../src/plots/venn/label.ts","../../../src/plots/venn/interactions/util.ts","../../../src/plots/venn/interactions/actions/active.ts","../../../src/plots/venn/interactions/actions/highlight.ts","../../../src/plots/venn/interactions/actions/selected.ts","../../../src/plots/venn/interactions/index.ts","../../../src/plots/venn/adaptor.ts","../../../src/plots/venn/index.ts","../../../src/plots/sankey/sankey/align.ts","../../../src/plots/sankey/sankey/helper.ts","../../../src/plots/sankey/sankey/sankey.ts","../../../src/plots/sankey/layout.ts","../../../src/plots/sankey/circle.ts","../../../src/plots/sankey/helper.ts","../../../src/plots/sankey/constant.ts","../../../src/plots/sankey/adaptor.ts","../../../src/plots/sankey/interactions/actions/node-drag.ts","../../../src/plots/sankey/interactions/node-draggable.ts","../../../src/plots/sankey/index.ts","../../../src/util/graphic.ts","../../../src/annotation/line.ts","../../../src/annotation/text.ts","../../../src/annotation/arc.ts","../../../src/annotation/region.ts","../../../src/annotation/image.ts","../../../src/annotation/data-marker.ts","../../../src/annotation/data-region.ts","../../../src/annotation/region-filter.ts","../../../src/annotation/shape.ts","../../../src/annotation/html.ts","../../../src/bbox/register.ts","../../../src/bbox/rect.ts","../../../src/bbox/circle.ts","../../../src/bbox/util.ts","../../../src/bbox/polyline.ts","../../../src/bbox/path.ts","../../../src/bbox/index.ts","../../../src/bbox/polygon.ts","../../../src/bbox/text.ts","../../../src/bbox/line.ts","../../../src/bbox/ellipse.ts","../../../src/plots/dual-axes/types.ts","../../../src/plots/dual-axes/constant.ts","../../../src/plots/dual-axes/util/option.ts","../../../src/plots/dual-axes/util/legend.ts","../../../src/plots/dual-axes/util/render-sider.ts","../../../src/plots/dual-axes/adaptor.ts","../../../src/plots/dual-axes/util/geometry.ts","../../../src/plots/dual-axes/index.ts","../../../src/axis/base.ts","../../../src/axis/overlap/auto-ellipsis.ts","../../../src/axis/overlap/auto-hide.ts","../../../src/axis/overlap/auto-rotate.ts","../../../src/axis/line.ts","../../../src/axis/circle.ts","../../../src/defs/gradient.ts","../../../src/defs/shadow.ts","../../../src/defs/arrow.ts","../../../src/defs/clip.ts","../../../src/defs/pattern.ts","../../../src/defs/index.ts","../../src/canvas.ts","../../../src/crosshair/base.ts","../../../src/crosshair/line.ts","../../../src/crosshair/circle.ts","../../../src/crosshair/css-const.ts","../../../src/crosshair/html-theme.ts","../../../src/crosshair/html.ts","../../../src/trend/constant.ts","../../../src/trend/path.ts","../../../src/trend/trend.ts","../../../src/slider/handler.ts","../../../src/slider/constant.ts","../../../src/slider/slider.ts","../../../src/utils/transform/word-cloud.ts","../../../src/plots/word-cloud/utils.ts","../../../src/plots/word-cloud/constant.ts","../../../src/plots/word-cloud/adaptor.ts","../../../src/plots/word-cloud/shapes/word-cloud.ts","../../../src/plots/word-cloud/index.ts","../../../src/plots/sunburst/constant.ts","../../../src/utils/hierarchy/partition.ts","../../../src/plots/sunburst/utils.ts","../../../src/plots/sunburst/adaptor.ts","../../../src/plots/sunburst/index.ts","../../../src/utils/hierarchy/pack.ts","../../../src/plots/circle-packing/utils.ts","../../../src/plots/circle-packing/constant.ts","../../../src/plots/circle-packing/adaptor.ts","../../../src/plots/circle-packing/index.ts","../../../src/plots/funnel/geometries/common.ts","../../../src/plots/funnel/geometries/basic.ts","../../../src/plots/funnel/geometries/compare.ts","../../../src/plots/funnel/geometries/facet.ts","../../../src/plots/funnel/geometries/dynamic-height.ts","../../../src/plots/funnel/adaptor.ts","../../../src/plots/heatmap/adaptor.ts","../../../src/plots/heatmap/constant.ts","../../../src/plots/heatmap/shapes/circle.ts","../../../src/plots/heatmap/shapes/square.ts","../../../src/plots/heatmap/index.ts","../../../src/utils/transform/quantile.ts","../../../src/plots/violin/utils.ts","../../../src/plots/violin/constant.ts","../../../src/plots/violin/adaptor.ts","../../../src/plots/violin/index.ts","../../../src/plots/liquid/utils.ts","../../../src/plots/liquid/adaptor.ts","../../../src/plots/liquid/constants.ts","../../../src/plots/liquid/shapes/liquid.ts","../../../src/plots/liquid/index.ts","../../../src/plots/waterfall/constant.ts","../../../src/plots/waterfall/utils.ts","../../../src/plots/waterfall/adaptor.ts","../../../src/plots/waterfall/shape.ts","../../../src/plots/waterfall/index.ts","../../../src/plots/treemap/utils.ts","../../../src/plots/treemap/adaptor.ts","../../../src/plots/treemap/constant.ts","../../../src/plots/treemap/index.ts","../../../src/plots/radar/adaptor.ts","../../../src/plots/radar/interactions/radar-tooltip-action.ts","../../../src/plots/radar/interactions/index.ts","../../../src/plots/radar/index.ts","../../../src/plots/box/constant.ts","../../../src/plots/box/utils.ts","../../../src/plots/box/adaptor.ts","../../../src/plots/box/index.ts","../../../src/plots/stock/constant.ts","../../../src/plots/stock/utils.ts","../../../src/plots/stock/adaptor.ts","../../../src/plots/stock/index.ts","../../../src/plots/bullet/utils.ts","../../../src/plots/bullet/adaptor.ts","../../../src/plots/bullet/constant.ts","../../../src/plots/bullet/index.ts","../../../src/plots/radial-bar/utils.ts","../../../src/plots/radial-bar/adaptor.ts","../../../src/plots/radial-bar/constant.ts","../../../src/plots/radial-bar/index.ts","../../../src/plots/bidirectional-bar/constant.ts","../../../src/plots/bidirectional-bar/utils.ts","../../../src/plots/bidirectional-bar/adaptor.ts","../../../src/plots/bidirectional-bar/index.ts","../../../src/utils/transform/chord.ts","../../../src/plots/chord/constant.ts","../../../src/plots/chord/adaptor.ts","../../../src/plots/chord/index.ts","../../../src/plots/facet/adaptor.ts","../../../src/plots/facet/utils.ts","../../../src/plots/facet/constant.ts","../../../src/plots/facet/index.ts","../../../src/plots/pie/interactions/actions/legend-active.ts","../../../src/plots/pie/interactions/actions/statistic-active.ts","../../../src/plots/pie/interactions/util.ts","../../../src/plots/pie/interactions/index.ts","../../../src/grid/base.ts","../../../src/grid/circle.ts","../../../src/grid/line.ts","../../../src/legend/base.ts","../../../src/legend/category.ts","../../../src/legend/continuous.ts","../../../src/tooltip/html-theme.ts","../../../src/tooltip/html.ts","../../../src/util/align.ts","../../../src/plots/rose/adaptor.ts","../../../src/plots/rose/constant.ts","../../../src/plots/rose/index.ts","../../../src/interactions/actions/reset-button.ts","../../../src/interactions/brush.ts","../../../src/adaptor/brush.ts","../../../src/plots/scatter/util.ts","../../../src/plots/scatter/adaptor.ts","../../../src/util/hit.ts","../../../src/scrollbar/scrollbar.ts","../../../src/adjusts/dodge.ts","../../../src/adjusts/jitter.ts","../../../src/adjusts/stack.ts","../../../src/adjusts/symmetric.ts","../../../src/locales/en_US.ts","../../../src/locales/zh_CN.ts","../node_modules/size-sensor/lib/index.js","../node_modules/size-sensor/lib/sensorPool.js","../node_modules/size-sensor/lib/id.js","../node_modules/size-sensor/lib/sensors/index.js","../node_modules/size-sensor/lib/sensors/object.js","../node_modules/size-sensor/lib/sensors/resizeObserver.js","../node_modules/d3-regression/dist/d3-regression.js","../node_modules/pdfast/src/index.js","../node_modules/pdfast/src/helper.js","../node_modules/@ant-design/plots/es/util/createNode.js","../node_modules/@ant-design/plots/es/util/utils.js","../node_modules/@ant-design/plots/es/hooks/useChart.js","../node_modules/@ant-design/plots/es/util/getChart.js","../node_modules/@ant-design/plots/es/errorBoundary/index.js","../../src/shared/uid.ts","../../src/web/Svg.tsx","../../src/web/ContentLoader.tsx","../../src/web/presets/FacebookStyle.tsx","../node_modules/@ant-design/plots/es/util/createLoading.js","../node_modules/@ant-design/plots/es/components/line/index.js"],"names":["isArrayLike","value","isFinite","length","contains","arr","indexOf","filter","func","result","index","push","difference","values","toString","isType","type","call","isNil","undefined","Array","isArray","each","elements","i","len","isObject","k","hasOwnProperty","keys","Object","obj","key","isFunction","isMatch","attrs","_keys","isObjectLike","isPlainObject","getPrototypeOf","proto","find","predicate","_predicate","a","findIndex","fromIndex","firstValue","data","name","rst","flatten","concat","reduce","prev","curr","Math","max","min","getRange","filterValues","v","isNaN","tmp","getMax","getMin","arrPrototype","prototype","splice","pullAt","indexes","last","previous","fn","init","remove","str","sortBy","comparer","b","keys_1","isString","prop","sort","uniq","cache","Map","r","item","has","set","tmpMap","j","val","head","o","endsWith","every","some","groupBy","condition","groupToMap","paramscondition_1","replace","split","row","unique","l","groups","array","parseRadius","clamp","fixedBase","base","round","substr","parseFloat","toFixed","isNumber","Number","isInteger","isNumberEqual","precision","abs","maxItem","Infinity","minItem","mod","n","m","RADIAN","PI","parseInt","toRadian","degree","lowerCase","toLowerCase","substitute","match","charAt","slice","upperFirst","toUpperCase","substring","getType","isBoolean","isDate","isNull","objectProto","isPrototype","Ctor","constructor","isUndefined","isElement","Element","HTMLDocument","requestAnimationFrame","window","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","f","setTimeout","cancelAnimationFrame","handler","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","_mix","dist","mix","src1","src2","src3","clone","debounce","wait","immediate","timeout","context","args","arguments","later","apply","callNow","resolver","TypeError","memoized","get","_deepMix","src","level","maxLevel","deepMix","isEmpty","size","isEqual","other","valueKeys","otherKeys","map","identity","object","forEach","defaultValue","p","keyArr","path","idx","includes","options","leading","Date","now","throttled","remaining","trailing","cancel","prefix","isArraylike","ctx","memoize","text","font","fontFamily","fontWeight","fontStyle","fontVariant","document","createElement","getContext","fontSize","join","measureText","width","maxWidth","currentText","currentWidth","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","def","extendStatics","d","setPrototypeOf","__proto__","__extends","String","__","this","create","__assign","assign","t","s","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__spreadArrays","il","jl","__spreadArray","to","from","pack","ar","flow","flows","param","template","source","RegExp","getContainerSize","ele","height","style","getComputedStyle","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","findGeometry","view","geometries","g","getAllElements","geometry","getAllElementsRecursively","views","subView","getAllGeometriesRecursively","transformLabel","labelOptions","label","formatter","content","catmullRom2bezier","crp","z","constraint","isLoop","pointList","cp1","cp2","controlPointList","points","smooth","prevPoint","nextPoint","cps","hasConstraint","point","vec2","sub","scale","d0","distance","d1","sum","v1","v2","cp0","add","shift","smoothBezier","getSplinePath","isInCircle","constaint","first","prePoint","x","y","length_1","points2Path","splinePath","unshift","kebabCase","word","_a","SOURCE_ATTRIBUTE_NAME","PLOT_CONTAINER_OPTIONS","container","_super","_this","getElementById","deepAssign","getDefaultOptions","createG2","bindEvents","Plot","renderer","xAxis","nice","autoRotate","autoHide","cfg","minGap","yAxis","animation","defaultInteractions","chart","Chart","autoFit","getChartSize","localRefresh","pick","setAttribute","chartSize","on","emit","clear","animate","execAdaptor","render","bindSizeSensor","updateOption","status","getData","setState","stateObjects","element","states","getStates","state","update","changeSize","annotations","incoming","controller","getController","current","getComponents","co","extra","annotation","id","unbindSizeSensor","destroy","off","removeAttribute","adaptor","getSchemaAdaptor","padding","appendPadding","forceFit","unbind","bind","triggerResize","EE","LAYER","DIRECTION","COMPONENT_TYPE","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","GROUP_Z_INDEX","GROUP_ATTRS","FIELD_ORIGIN","ENGINES","registerEngine","engine","w","h","getElementSize","visible","Base","changeVisible","destroyed","toScaleString","invert","_parseCfg","Attribute","params","_toOriginParam","scales","callback","percent","steps","step","floor","leftPercent","start","names","field","_getAttributeValue","_b","_c","_d","ret","defaultCallback","isCategory","linear","translate","getLinearValue","isLinear","gradient","colorUtil","Color","Position","scaleX","scaleY","xi","yi","Shape","ATTRIBUTE_MAP","getAttribute","registerAttribute","ctor","Error","Opacity","Size","end","matrix","isTransposed","originalMatrix","Coordinate","center","initial","dim","isReflect","tag","vector","vec3","transformMat3","inverted","mat3","convertPoint","applyMatrix","invertMatrix","invertPoint","radian","ext","leftTranslate","leftRotate","isReflectX","isReflectY","s1","s2","leftScale","radius","Cartesian","convertDim","invertDim","endAngle","innerRadius","startAngle","Helix","maxRadius","thi","newY","cos","sin","subtract","angleTo","rMin","Polar","oneBox","getOneBox","oneWidth","maxX","minX","oneHeight","maxY","minY","left","top","circleCenter","polarRadius","getCenter","vPoint","vStart3","vStart2","angle","xPercent","yPercent","xs","ys","COORDINATE_MAP","registerCoordinate","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","Tooltip","uniqueValues","Set","mid","polarToCartesian","centerX","centerY","angleInRadian","getSectorPath","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","middlePoint","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","getArcPath","getAngle","shapeModel","coordinate","box","getPointsBox","coordStartAngle","diffAngle","getReplaceAttrs","sourceShape","targetShape","originAttrs","attr","newAttrs","isBetween","omit","sourceArray","targetArray","_i","BBox","bbox","child","subBBox","direction","TOP","TOP_LEFT","TOP_RIGHT","fromRange","RIGHT","RIGHT_TOP","RIGHT_BOTTOM","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","LEFT_TOP","LEFT_BOTTOM","gap","right","bottom","getXDimensionLength","isPolar","getRadius","convert","sqrt","pow","getDistanceToCenter","isPointInCoordinate","getAngleByPoint","atan2","getCoordinateClipCfg","margin","endState","getWidth","getHeight","endAngle_1","center_1","radius_1","startState","startAngle_1","ratio","diff","dateRegex","inferScaleType","scaleDef","attrType","geometryType","createScaleByField","validData","getScale","valuesOfKey","test","getDefaultType","getName","alias","getDefaultCategoryScaleRange","theme","range","count","offset","isFullCircle","getMaxScale","getAxisRegion","region","isRect","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","isVertical","getAxisFactorByRegion","getAxisThemeCfg","axisTheme","getAxisTitleOptions","axisOptions","getCircleAxisCenterRadius","startVector","normalVector","getAxisOption","axes","getAxisDirection","axisOption","getAxisTitleText","facets","getDefaultCfg","Facet","createContainer","generateFacets","renderViews","clearFacetViews","facet","createView","beforeEachView","eachView","afterEachView","getLayer","FORE","addGroup","createFacetViews","facetToView","removeView","viewBBox","spacing","rows","cols","xIndex","yIndex","parseSpacing","xSpacing","ySpacing","xRatio","yRatio","showTitle","fields","fill","getTheme","getOptions","coordinateOption","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","conditions","datum","Facets","registerFacet","Action","addAction","applyCfg","removeAction","CallbackAction","ActionCache","getActionClass","actionName","actionOption","registerAction","ActionClass","createCallbackAction","action","_convertArr","coord","_convertArcPath","nextCp0","getLinePath","_points2path","convertPolarPath","pre","cur","transposed","subPath","curPoint","xDim","angleRange","flag","middleConvertPoint","_convertPolarPath","next","_filterFullCirleLine","getMaskBBox","tolerance","maskBBox","event","target","getCanvasBBox","getCurrentElement","getDelegationObject","delegateObject","isElementChange","gEvent","fromShape","toShape","isList","component","isSlider","isMask","getMaskedElements","maskPath","maskShape","getMaskPath","getElements","pathToPoints","el","shapePoints","shape","shapeBBox","isPolygonsIntersect","getElementsByPath","getIntersectElements","getSiblingMaskElements","sibling","getSiblingPoint","geom","getElementsByState","stateName","getElementsBy","hasState","getElementValue","record","getModel","box1","box2","seg","p1","p2","dx","dy","isInBox","getSilbings","parent","siblings","normalPoint","getCoordinate","point2Normalize","isInRecords","records","xFiled","yField","isIn","getScaleByField","actions","cacheMap","Context","HTMLElement","getCanvas","getPointByClient","clientX","clientY","getCurrentPoint","isPointInPlot","getCurrentShape","components","getBBox","Interaction","initEvents","clearEvents","parseAction","actionStr","arg","getAction","createAction","methodName","executeAction","actionObject","STEP_NAMES","GrammarInteraction","initContext","callbackCaches","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","InteractionContext","subSteps","actionArr","argArr_1","currentStepName","isAllowStep","getKey","once","emitCaches","isEnable","enterStep","actionCallback","isAllowExecute","afterExecute","throttle","eventName","nameArr","addEventListener","removeEventListener","Interactions","registerInteraction","interaction","createInteraction","interaciton","getInteraction","createThemeByStyleSheet","styleSheet","shapeStyles","default","pointFillColor","pointSize","stroke","pointBorderColor","lineWidth","pointBorder","fillOpacity","pointFillOpacity","active","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","inactive","pointInactiveFillOpacity","strokeOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","area","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","interval","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","line","lineBorderColor","lineBorder","lineBorderOpacity","lineAppendWidth","lineCap","lineJoin","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","title","position","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","lineHeight","axisTitleTextLineHeight","textBaseline","autoEllipsis","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","grid","axisGridBorderColor","axisGridBorder","lineDash","axisGridLineDash","alignTick","tickLine","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","subTickLine","createAxisStyles","legendStyles","marker","symbol","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","itemName","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","textAlign","itemStates","nameStyle","opacity","unchecked","markerStyle","flipPage","pageNavigator","legendPageNavigatorMarkerSize","inactiveFill","legendPageNavigatorMarkerInactiveFillColor","inactiveOpacity","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","maxItemWidth","itemSpacing","legendItemSpacing","itemMarginBottom","legendItemMarginBottom","legendPadding","createLegendStyles","background","backgroundColor","defaultColor","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","columnWidthRatio","maxColumnWidth","minColumnWidth","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","sequenceColors","paletteSequence","shapes","sizes","rect","middleAngle","transform","tick","funnel","pyramid","dot","dash","hv","vh","hvh","vhv","polygon","circle","square","bowtie","diamond","hexagon","triangle","cross","plus","hyphen","schema","candle","edge","arc","violin","hollow","axis","common","verticalLimitLength","legend","layout","legendVerticalPadding","legendHorizontalPadding","continuous","track","rail","sliderRailHeight","defaultLength","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","align","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","slidable","tooltip","showContent","follow","showCrosshairs","showMarkers","shared","enterable","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","crosshairs","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","textBackground","domStyles","TOOLTIP_CSS_CONST","CONTAINER_CLASS","visibility","zIndex","transition","tooltipContainerFillColor","tooltipContainerFillOpacity","boxShadow","tooltipContainerShadow","borderRadius","tooltipContainerBorderRadius","color","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","TITLE_CLASS","marginBottom","marginTop","LIST_CLASS","listStyleType","LIST_ITEM_CLASS","marginLeft","marginRight","MARKER_CLASS","display","VALUE_CLASS","float","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","image","dataMarker","annotationDataMarkerLineLength","autoAdjust","dataRegion","slider","backgroundStyle","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","foregroundStyle","cSliderForegroundFillColor","cSliderForegroundFillOpacity","handlerStyle","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","highLightFill","cSliderHandlerHighlightFillColor","textStyle","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbar","trackColor","scrollbarTrackFillColor","thumbColor","scrollbarThumbFillColor","hover","scrollbarThumbHighlightFillColor","labels","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","_e","_f","_g","paletteSemanticYellow","_h","_j","_k","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","createTheme","themeCfg","styleSheetCfg","themeObject","Themes","snapEqual","value1","value2","filterYValue","yScale","getYScale","yValue","originData","getXDistance","scaleValues","numericValue","getTooltipValueScale","attributes","attribute","getAttributesForLegend","tmpScale","scaleDefs","xScale","getXScale","findDataByPoint","xField","xValue","rangeMax","rangeMin","getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","getTooltipItems","showNil","tooltipTitle","getFields","titleField","titleScale","getText","getTooltipTitle","tooltipOption","items","addItem","itemValue","mappingData","callbackParams","itemCfg","valueScale","eachValue","getTooltipValue","nameScale","groupScales","getGroupScales","getTooltipName","getTooltipItemsByFindData","tooltipCfg","dataArray","elementId","getElementId","elementsMap","getTooltipItemsByHitShape","getShape","findItemsFromView","reversed","tooltipItems","reverse","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","registerComponentController","plugin","option","wrapperOption","CoordinateController","isTheta","props","C","hasAction","transpose","execActions","resetMatrix","sx","sy","includeActions","Event","GEvent","originalEvent","defaultLayout","syncScales","ScalePool","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","scaleKeys","syncKey","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","isContinuous","change","sm","newScale","syncScale","getSyncKey","removeFromSyncScales","scaleMeta","delete","sync","PaddingCal","getPadding","calculatePadding","isAutoPadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","getLayoutBBox","exceed","componentPadding","componentBBox","expand","inc","defaultSyncViewPadding","PC","syncPadding","instance","autoPadding","evt","createViewEvent","doPlotEvent","uniqueId","canvas","backgroundGroup","middleGroup","foregroundGroup","limitInPlot","syncViewPadding","View","layoutFunc","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","BEFORE_RENDER","fromData","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","isDataChanged","isCoordinateChanged","labelsContainer","controllers","createdScaleKeys","getRootView","scalePool","deleteScale","AFTER_CLEAR","BEFORE_DESTROY","interactions","draw","console","warn","filters","legendOption","scaleOption","coordinateCfg","coordinateController","facetInstance","getFacet","coordinateBBox","opt","existInteraction","BEFORE_CHANGE_DATA","changeData","AFTER_CHANGE_DATA","sharedOptions","getOption","legends","removedView","yScales","dimType","defaultKey","getScaleKey","layer","BG","MID","getGroupAttributes","xScales","getScalesByDim","c","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","dataLen","snapRecords","getSnapRecords","curStart","curEnd","bl","tr","adjust","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","addShape","capture","toBack","adjustCoordinate","initComponents","shrink","syncViewPaddingFn","doLayout","setClip","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","createScale","doFilterData","createCoordinate","initGeometries","renderFacet","onDelegateEvents","onCanvasEvent","usedControllers","controllerName","currentInPlot","newEvent","TYPE","isPreMouseInPlot","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","filterData","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","getGroupFields","adjustCategoryScaleRange","xyScales","getYScales","scaleOptions","isIdentity","doAnimation","canvasRegion","events","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","rest","geometry_1","registerGeometry","pixelRatio","supportCSSTransform","wrapperElement","createDom","appendChild","G","getEngine","Canvas","updateCanvasStyle","bindAutoFit","initDefaultInteractions","ariaOption","ATTR","BEFORE_CHANGE_SIZE","AFTER_CHANGE_SIZE","aria","unbindAutoFit","dom","parentNode","removeChild","removeDom","modifyCSS","verticalAlign","onResize","Controller","includeOption","show","hide","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","isLocked","setCapture","guideGroup","reset","tooltipCrosshairsGroup","snapItem","aItem","yDistance","uniqItems","subItem","getContainer","getBoundingClientRect","isPointIn","processOption","processCustomContent","defaultCfg","currentCustomContent","customContent","getTooltipMarkersGroup","rootView","getClip","attrs_1","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","Line","textCfg","firstItem","getGuideGroup","toFront","childView","originalItems","customItems","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","appear","duration","easing","enter","leave","GEOMETRY_ANIMATE_CFG","delay","GEOMETRY_GROUP_APPEAR_ANIMATION","getDefaultAnimateCfg","elementName","animateType","animateCfg","doAnimate","parsedAnimateCfg","repeat","parseAnimateConfig","animateFunction","toAttrs","BACKGROUND_SHAPE","shapeFactory","offscreenGroup","elementIndex","model","shapeType","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getAnimateCfg","labelShape","statesStyle","stateStatus","sortZIndex","setZIndex","offscreenShape","eventObject","propagationDelegate","labelBBox","stateOption","defaultShapeType","stateTheme","shapeKey","getStatesStyle","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","name_1","BEFORE_DRAW_ANIMATE","GroupCtor","getGroupBase","isGroup","clip","newClip","children","newChildren","name_2","getStateStyle","stopAnimate","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","registerGeometryLabel","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","markerCfg","ShapeBase","parsePath","parsedPath","parsePathString","convertNormalPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","className","geomObj","registerShape","factory","shapeObj","getShapeFactory","isModelChange","currentModel","preModel","parseFields","keyItem","added","updated","removed","keyIncluded","sortable","intervalPadding","dodgePadding","zIndexReversed","userTheme","Geometry","positionCfg","attributeOption","createAttrOption","adjustCfg","adjusts","adjustOption","styleFunc","styleOption","animateOption","secondParam","thirdParam","labelOption","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","defaultSize","beforeMappingData","beforeMapping","mapping","updateElements","lastElementsMap","canDoGroupAnimation","yMinPoint","getYMinValue","minYPoint","doGroupAppearAnimate","renderLabels","geometryLabel","idFields","hasSorted","attrName","adjustType","shapeName","xVal","yVal","length_2","dodgeAdjust","getAdjust","dodgeBy","attributeType","eachOpt","length_3","uniqMap","groupFields","length_4","attributeName","mappingArray","xScale_1","xField_1","obj1","obj2","updateStackRange","normalizeValues","y0","mappingDatum","shapeCfg","getDrawCfg","customInfo","defaultStyle","getStyleCfg","generatePoints","nextPoints","mappingDataArray","keyDatum","keyIndex","finalKey","currentShapeCfg","preShapeCfg","coordinateType","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","groupData","beforeAdjust","subData","subLen","adjustData","xScale_2","xDimensionLength","groupNum","sizeAttr","adjustNames","dodgeRatio","getDefaultValue","reverseOrder","adjustCtor","getAdjustClass","dimValuesMap","adjustInstance","process","appendConditions","eachGroup","group","mergeArray","tmpMin","tmpMax","length_5","currentData","generateShapePoints","nextData","shapeAttr","createShapePointsCfg","getAttributeValues","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","getLabelType","GeometryLabelsCtor","labelsMap","labelsRenderer","shapesMap","labelId","filterLabelsById","labelChildren","getChildren","getMatrix","setMatrix","rotate","rotateRadian","getRotateMatrix","findLabelTextShape","getlLabelBackgroundInfo","labelGroup","labelItem","boxPadding","rotation","checkShapeOverlap","dones","done","updateLabel","updateAnimateCfg","fromChild","toChild","getChildByIndex","getCount","lastShapesMap","Labels","createOffscreenGroup","renderLabel","renderLabelLine","renderLabelBackground","adjustLabel","origin_1","currentAnimateCfg","currentShape","deleteShape","shapeAppendCfg","isShape","layouts","labelShapes_1","geometryShapes_1","labelItems","labelLineCfg","labelContentShape","backgroundShape","labelShapes","findAll","offsetX","offsetY","avg","GeometryLabel","mapppingArray","labelCfgs","getLabelCfgs","labelCfg","labelContent","total","subIndex","getLabelPoint","getLabelAlign","getLabelItems","getLabelsRenderer","getGeometryShapes","defaultLabelCfg","getDefaultLabelCfg","labelPointCfg","getOffsetVector","factor","offsetPoint","getDimValue","isAvg","isFunnel","centroid","former","getPolygonCentroid","point1","point2","setLabelPosition","getLabelOffsetPoint","labelScales","callbackCfg","originText","getLabelText","originValues","getLabelId","getLabelOffset","labelTexts","subVal","actualOffset","getMappingValue","restArgs","MarkerSymbols","diffX","diffY","STROKES_SYMBOLS","setMarkerSymbol","getLegendLayout","startsWith","getLegendItems","themeMarker","userMarker","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","getTicks","scaleValue","filterFieldData","getShapeMarker","isInPolar","adpatorMarkerStyle","getLegendThemeCfg","legendTheme","isValueEmpty","isYNil","getPathPoints","connectNulls","showSinglePoint","filtered","getViolinPath","getSmoothViolinPath","half","leftPoints","rightPoints","leftPath","rightPath","getStyle","isStroke","isFill","sizeName","getBackgroundRectStyle","splitPoints","eachY","LineSymbols","getLineMarker","getSinglePath","getPath","isStack","topPoints","bottomPoints","topPath","bottomPath","getRangePath","shapeAttrs","eachLinePoints","getShapeAttrs","LineShapeFactory","Util","zoom","applyToMatrix","antvDark","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","createDarkStyleSheet","Path","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","pointInfo","yItem","AreaShapeFactory","startOnZero","Area","EdgeShapeFactory","Heatmap","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","paletteCache","colorField","getDefaultSize","blur","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","r2","clearRect","beginPath","closePath","valueField","getShadowCanvasCtx","alpha","drawGrayScaleBlurredCircle","colored","getImageData","colorize","putImageData","imageShape","getImageShape","ticks","shadowCanvas","globalAlpha","drawImage","img","colorAttr","pixels","palette","ColorUtil","rgb2arr","getRectPoints","yMin","yMax","xMin","xMax","getRectPath","isClosed","firstPoint","minLength","r1","r3","r4","getBackgroundRectPath","p0","getFunnelPath","isPyramid","swap","backgroundCfg","backgroundPath","p3","getRectWithCornerRadius","coor","ry","getIntervalRectPath","xValues","sourceArr","findMinDistance","normalizedSize","wr","dodgeCount","mergeData","getDodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","Interval","SHAPES","drawPoints","pointPosition","PointShapeFactory","Point","subX","subY","PolygonShapeFactory","Polygon","temp","xOffset","yOffset","Schema","sizeArr","maxValue","num","normalizeSize","_size","isMin","isMax","ViolinShapeFactory","Violin","_sizeField","sizeField","getCPath","getQPath","getArcShapePath","arc1","arc2","getArcShapeWeightPath","c1","c2","getSmoothPath","CORNER_PERCENT","getVHVPath","getLinePoints","newStyle","getTickPoints","getInterpolateShapeAttrs","interpolatePoints","interpolatePoint","nextX","nextY","middleX","middleY","interpolateCallback","getInterpolatePoints","getInterpolatePath","parseValue","min1","max1","median","getBoxPoints","pointsArray","halfSize","getCandleYValues","sorted","targetLength","padValue","padEnd","sourceLength","getCandlePoints","yValues","getRectAttrs","IntervalLabel","dir","getLabelValueDir","point0","nextP0","nextP1","HALF_PI","PolarLabel","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getCirclePoint","getLabelRotate","labelAngle","asin","PieLabel","isLabelLimit","startPoint","endPoint","antiCollision","plotRange","invisible","overlapping","startY","endY","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","bitmap","xGap","yGap","Greedy","hasGap","adjustLabelPosition","getAxes","rotateAtPoint","deg","getProjection","scalars","isProjectionOverlap","projection1","projection2","isValidNumber","isValidBox","isIntersect","isIntersectRect","rect1Points","rect2Points","preset","shouldInShape","textShape","textBBox","fromObject","shouldInShapeSingle","hasSome","compare","rightText","doScaleAnimate","endMatrix","direct","scaledMatrix","transformShape","arcPath","getArcParams","getArcStartPoint","getArcInfo","arcPaths","command","firstArcPathCommand","lastArcPathCommand","firstIndex","lastIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","doShapeZoom","getFactTitleConfig","getAnglePoint","Circle","getDefaultTitleCfg","renderTitle","avgAngle","facetR","middle","processAxis","getFieldValues","facetData","getFacetDataFilter","getRegion","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","config","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","reflect","columnValues","rowValues","Rect","drawLines","Tree","afterChartRender","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","getFacetsByLevel","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","drawLine","getMedian","getNormalizedValue","scaled","_","getMean","ANNOTATIONS_AFTER_RENDER","foregroundContainer","backgroundContainer","Annotation","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","NONE","ANNOTATION","xPos","yPos","parsePercentPosition","startIndex","viewData","startXValue","endXValue","parsePosition","topLeft","sp","ep","textPoint","textContent","getCoordinateBBox","start_5","end_5","lineLength","getRegionPoints","apply_1","shapes_1","addShapes_1","elem","render_1","restOptions","html_1","html","getComponentContainer","createAnnotation","newCache","getGridThemeCfg","getLineGridItems","tickValue","preTick","currentTick","currentIndex","currentValue","middleValue","getCircleGridItems","preValue","showGrid","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","RADIUS","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","CIRCLE","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","verticalFactor","isAxisVertical","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","pop","verticalScale","directionToPosition","parentBBox","tl","br","getLegendOption","getDirection","layoutBBox","maxWidthRatio","maxHeightRatio","maxSize","getCategoryLegendSizeCfg","maxHeight","x1","y1","x2","y2","setLocation","cut","existCo","getComponentById","customCfg","getCategoryCfg","createCustomLegend","loopLegends","getContinuousCfg","createFieldLegend","getGeometries","doEach","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","colors","mergeLegendCfg","custom","themePageNavigator","userPageNavigator","itemMarker","getCustomLegendItems","baseCfg","categoryCfg","vw","noop","changeViewData","onChangeFn","onValueChange","resetMeasure","Slider","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","minText","maxText","SliderComponent","trendCfg","getThemeOptions","ticks_1","dataSize","xTickCount","minIndex","maxIndex","xScaleValues","getValidScrollbarCfg","originalAnimate","getScrollRange","trackLen","thumbLen","Scrollbar","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","isHorizontal","thumbOffset","cnt","xScaleCfg","yScalesCfg","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","tickMethod","ScrollbarComponent","realConfig","categorySize","getScrollbarTheme","DEFAULT_REGION_PATH_STYLE","getItemsOfView","findItemsFromViewRecurisive","ActiveRegion","ev","xValue_1","elements_1","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","regionPath","TooltipAction","lastTimeStamp","timeStamp","preLoc","location","curLoc","isCursorEntered","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","enable","setStateEnable","clearViewState","setElementState","getItem","ElementState","list","ignoreListItemStates","setElementsStateByItem","isMathItem","setStateByElement","isItemIgnore","event_1","setStateByComponent","ElementActive","StateAction","LinkByColor","nextElement","nextBBox","activeStyle","getLinkPath","getColorScale","getElementsByField","group_1","linkGroup","count_1","nextEl","addLinkShape","linkByElement","removeLink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","STATUS_UNACTIVE","STATUS_ACTIVE","clearHighlight","setHighlightBy","EVENTS","INACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","info","allowSetStateByElement","getAllowComponents","clearItemsState","componentNames","ignoreStates","ignoreItemStates","setItemsState","allowSetStateByItem","setItemState","getItems","triggerInfo","getTriggerListInfo","clearAllComponentsState","ListActive","ListHighlight","activeItems","getItemsByState","clearList","ListSelected","ListUnchecked","STATUS_UNCHECKED","STATUS_CHECKED","ListChecked","setCheckedBy","list_1","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","STATUS_SHOW","TIP_ID","ListRadio","body","containerId","MaskBase","maskAttrs","getMaskAttrs","draggable","emitEvent","starting","moving","createMask","updateMask","maskStyle","preMovePoint","currentPoint","CircleMask","RectMask","clampPoint","DimRect","normalStart","normalEnd","inPlot","PathMask","resize","SmoothPathMask","getSpline","CursorAction","cursor","setCursor","DataFilter","filterView","unCheckedItems","scale_1","names_1","getValue","max_1","min_1","getFilter","minValue","arr_1","RangeFilter","dims","BEFORE_FILTER","normalCurrent","hasDim","reRender","FILTER","AFTER_FILTER","BEFORE_RESET","RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","ButtonAction","buttonCfg","getButtonCfg","buttonShape","buttonGroup","drawButton","resetPosition","Drag","dragStart","Move","startMatrix","isMoving","ScaleTranslate","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","MousewheelScroll","wheelDelta","scrollbarController","currentRatio","nextStart","deltaY","isWheelDown","correction","nextRatio","setValue","isPointInView","isInPlot","preventDefault","CanvasEngine","SVGEngine","Edge","greedy","canFill","fillGap","totalHeight_1","lineHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","isRight","rPow2","dyPow2","innerPoint","itemX","itemY","maxTimes","dxdy","maxDelta","nt","times","accessedCache","spiralFill","label1","label2","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","translateX_1","textBox","DOT_WIDTH","getEllipsisText","labelOffset","RIGHT_HALF_KEY","separateLabels","totalR","labelsContainerRange","dxPow2","dx_offset","smoothConnector","atan","sweepFlag","breakPoint","breakPoint3","xSign","slope1","slope2","E","drawLabelline","overflow","fillWhite","rgb","toRGB","isContrastColorWhite","moveInShape","filteredLabels","pages","filterLabel","todo","groupedLabels","addCurrentGroup","curItems","sortedCollections","sortedLabels","sortLabels","downFail","inRight","inflectionPoint","totalOffset","seperateLabels","halfHeight","originalPos","clipShape","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","getTotalLength","lineDashOffset","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","showEnable","isInShape","processing","rollback","seriesField","removeInteraction","meta","AXIS_META_CONFIG_KEYS","annotationOptions","annotationController","getTooltipMapping","tooltipFields","stepType","columnBackground","marginRatio","widthRatio","groupField","otherAdaptor","version","out","transMat","fromTranslation","multiply","rad","rotateMat","fromRotation","scaleMat","fromScaling","a1","ang","angleLargeThanPI","vertical","STATUS_UPDATE","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","isRegister","isUpdating","isInit","clearOffScreenCache","localId","offScreenRender","offScreenGroup","deleteElements","applyOffset","initEvent","removeEvent","getInnerLayoutBBox","getTotalMatrix","applyMatrix2BBox","initGroup","getDelegateObject","moveElementTo","isComponent","createOffScreenGroup","renderInner","getBBoxWithClip","appendDelegateObject","registerElement","restCfg","inst","updateAutoRender","getMatrixByTranslate","elmentName","newElement","originOpacity","originElement","newGroup","originGroup","preElement","childComponent","origChildComponent","newCfg","replaceAttrs","updateAnimation","updateClip","registerNewGroup","addAnimation","parentObject","deleteArray","callbackAnimCfg","removeElement","removeAnimation","Component","formatPadding","clearDom","childNodes","hasClass","cName","regionToBBox","pointsToBBox","createBBox","getValueByPercent","near","EPSILON","clipBBox","minX_1","maxX_1","minY_1","maxY_1","leftTop","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","intersectBBox","newClipShape","clipCfg","toPx","number","getTextPoint","offsetPercent","getMappingField","shapeField","styleField","rawFields","mappingFields","tileMappingField","getMappingFunction","getPixelRatio","devicePixelRatio","inBox","intersectRect","mergeRegion","region1","region2","isSamePoint","SHAPE_TO_TAGS","polyline","ellipse","SVG_ATTR_MAP","fillStyle","strokeStyle","rx","miterLimit","startArrow","endArrow","class","preserveAspectRatio","textColor","activeTextColor","uncheckedColor","lineColor","regionColor","verticalAxisRotate","horizontalAxisRotate","minNum","maxNum","getBBoxByArray","xArr","yArr","getBBoxRange","piMod","pointAt","pointDistance","pointToLine","u","tangentAngle","nearestPoint","tCallback","v0","segNum","increaseRate","_t","d2","quadraticAt","onet","extrema","derivativeAt","divideQuadratic","x3","y3","xt","yt","controlPoint1","controlPoint2","quadraticLength","iterationCount","quadratics","xExtrema","yExtrema","x0","interpolationAt","divide","cubicAt","t1","t2","discSqrt","extremas","disc","divideCubic","x4","y4","c3","c12","c23","cubicLength","totalLength","snapLength","cubics","copysign","absv","nearestX","nearestY","relativeX","relativeY","px","py","squareA","squareB","ex","ey","rx1","ry1","qx","qy","hypot","q","xAt","cx","cy","xRotation","yAt","getPoint","tan","xAngle","yDim","yAngle","relativeVector","relativePoint","derivativeXAt","derivativeYAt","analyzePoints","segments","lengthOfSegment","pointAtSegments","startRatio","localRatio","angleAtSegments","distanceAtSegment","minDistance","distance_1","defaultFields","createSVGElement","createElementNS","getParent","sortDom","sorter","childList","toArray","fragment","createDocumentFragment","moveTo","targetIndex","node","nodeType","nodeName","insertBefore","targetNext","glMatrix","Float32Array","fromMat4","copy","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","adjoint","determinant","b00","b02","b10","b12","b20","b22","fromMat2d","fromQuat","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","frob","multiplyScalar","multiplyScalarAndAdd","exactEquals","equals","a0","a2","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","mul","identityMatrix","getMatrixByAngle","currentMatrix","getAngleByMatrix","multiplyVec2","topRight","bottomLeft","bottomRight","applyRotate","applyTranslate","translateMatrix","removeFromArray","isBrowser","isParent","isCanvas","isAllowCapture","Adjust","dimValue","isAdjust","groupedDataArray","mergedData","getDimValues","adjustDim","DEFAULT_Y","eventType","attachEvent","detachEvent","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","tbody","thead","tfoot","td","th","$1","innerHTML","getOuterHeight","offsetHeight","bTop","pTop","pBottom","getOuterWidth","offsetWidth","bLeft","pLeft","pRight","bRight","mRight","css","normalPadding","getAdjustAppendPadding","append","currentAppendPadding","PADDING","resolveAllPadding","paddings","normalPaddings","finalPadding","pattern","patternOption","colorAttribute","seriesValue","CanvasPattern","getCanvasPattern","FUNNEL_PERCENT","FUNNEL_MAPPING_VALUE","FUNNEL_CONVERSATION","FUNNEL_TOTAL_PERCENT","PLOYGON_X","PLOYGON_Y","DEFAULT_OPTIONS","minSize","conversionTag","methodCache","registerTickMethod","method","__cfg__","initCfg","Scale","res","setDomain","getConfig","calculateTicks","NaN","Category","translateIndexMap","buildIndexMap","order","calcPercent","calcValue","scaledValue","domainRange","token","twoDigitsOptional","twoDigits","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","dayNames","monthNames","monthNamesShort","defaultI18n","dayNamesShort","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","globalMasks","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","format","mask","getTime","literals","$0","combinedI18nSettings","parse","dateStr","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","regex","requiredField","matches","parser","dateWithoutTZ","validateFields","UTC","timeFormat","time","fecha1","fecha","toTimeStamp","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","getTickInterval","tickCount","getter","_lo","_hi","lo","hi","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","Linear","getInvertPercent","calBase","log","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","exponent","Time","numberValue","minConfig","maxConfig","timeStamps_1","secondMin_1","minTickInterval","Quantize","minTick","minIndexPercent","Quantile","getClass","registerClass","cls","Identity","prettyNumber","DEFAULT_Q","eps","simplicity","Q","lmin","lmax","lstep","simplicityMax","density","dMin","dMax","lMin","lMax","rt","densityMax","coverage","coverageMax","span","extended","onlyLoose","best","score","dm","delta","ceil","log10","cm","minStart","maxStart","i_1","lStep","calculateCatTicks","tickInterval","e10","e5","e2","D3Linear","domain","_domain","i0","i1","stop","tickIncrement","d3ArrayTicks","power","LN10","error","snapMultiple","snapType","intervalTicks","maxTick","strictLimit","defaultMin","defaultMax","tickMin","tickMax","pretty","unit","nu","ns","quantileSorted","getYear","date","createYear","creatMonth","cat","catTicks","lastValue","minYear","maxYear","yearInterval","monthInterval","mmMoth","dMonths","minMonth","diffMonth","mday","ddays","diffDay","hours","dHours","diffHour","dMinus","diffMinus","minSecond","dSeconds","seconds","d3Linear","registerScale","regexTags","regexDot","catmullRom2Bezier","SPACES","PATH_COMMAND","PATH_VALUES","pathString","paramCounts","REGEX_MD","toSymmetry","pathToAbsolute","pathArray","needProcess","cmd","mx","my","ii","pa","preParams","upCmd","jj","symetricT","symetricS","vMag","vRatio","vAngle","acos","arcFlag","xp","yp","lambda","cxp","cyp","theta","dTheta","getSegments","nextParams","startMovePoint","lastStartMovePointIndex","segment","startTangent","endTangent","arcParams","cp","preSegment","dx1","dy1","dx2","dy2","dcmp","onSegment","isInPolygon","isHit","parseToLines","lines","lineIntersectPolygon","D0","D1","kross","getLineIntersect","points1","points2","bbox1","bbox2","isPointInPolygon","lines1","lines2","measure","as","sumMap","groupValue","isRealNumber","percentage","getDeepPercent","getDataWhetherPecentage","asField","isPercent","areaStyle","pointOptions","lineOptions","pointState","seriesData","getTinyData","primary","X_FIELD","Y_FIELD","pointParams","adjustYMetaByZero","nodes","getConversionTagOptionsWithDefaults","horizontal","arrow","headSize","conversionTagFormatter","renderTag","elemPrev","elemNext","pointPrev","pointNext","totalWidth","renderArrowTag","textWidth","cWidth","cEnd","textAdjusted","renderTextTag","INTERACTION_MAP","click","getStartStages","defaultOptions","columnStyle","percentData","chartData","stackedItem","tooltipOptions","percentYMeta","isRange","columnTooltip","tooltipFormatter_1","isBar","disable","disabled","brushInteraction","connectedArea","ARRAY_TYPE","RANDOM","random","multiplyMatrix","registerAdjust","Dodge","Jitter","Stack","Symmetric","RGB_REG","regexLG","regexRG","regexColorStop","arr2rgb","toHex","iEl","x16Value","createTmp","defaultView","getPropertyValue","exec","colorArray","fixedPercent","calColor","toCSSGradient","gradientColor","cssColor_1","colorStops_1","itemArr","HtmlComponent","containerTpl","containerClassName","pointerEvents","initContainer","initDom","resetStyles","applyStyles","initCapture","initVisible","parent_1","defaultStyles","applyChildrenStyles","containerCss","styles","getElementsByClassName","cssName","hasKey","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","parseStyle","drawChildren","skipDraw","checkRefresh","refreshElements","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","clearChanged","cacheCanvasBBox","isInView","drawPath","arcParamsCache","tangent","getStartTangent","ArrowUtil","getEndTangent","lineTo","quadraticCurveTo","bezierCurveTo","refreshElement","changeType","_cacheCanvasBBox","getMergedRegion","minXArr","minYArr","maxXArr","maxYArr","cacheBox","validCache","validBBox","getRefreshRegion","mergeView","viewRegion","setShadow","addShadow","setTransform","hasAttribute","createPath","addClip","LocaleMap","registerLocale","locale","localeObj","getLocale","GLOBAL","LEVEL","BRAND","getMessage","argIndex","findViewById","getViews","getSiblingViews","numberData","gtZero","ltZero","transformDataToNodeLinkData","sourceField","targetField","weightField","links","nodesMap","nodesIndex","weight","rawData","processIllegalData","WARN","DEFAULT_TOOLTIP_OPTIONS","itemTpl","NODE_INDEX_FIELD","CHILD_NODE_COUNT","NODE_ANCESTORS_FIELD","INVALID_FIELD_ERR_MSG","getField","defaultField","getAllNodes","root","index_1","ancestors","depth","eachNode","getDefaultAttrs","Group","getHitLineWidth","getBBoxMethod","bboxMethod","halfLineWidth","isClipShape","save","restore","_afterDraw","_applyClip","getViewRange","canvasBBox","getCanvasViewBox","strokeAndFill","afterDrawPath","refX","refY","isInStrokeOrPath","AbstractShape","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","ImageShape","_setImage","image_1","Image","onload","_afterLoading","crossOrigin","originValue","onAttrChange","swidth","sheight","inLine","halfWidth","LineUtil","setArrow","startArrowDistance","endArrowDistance","startArrowShape","endArrowShape","Symbols","Marker","_resetParamsCache","_getR","path2Absolute","_getPath","paramsCache","isPointInPath","getOffScreenContext","hasArc","extractPolygons","polygons","polylines","isPointInStroke","QuadUtil","CubicUtil","inArc","PathUtil","isInPolygons","_setPathArr","path2Segments","extractResutl","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","pathToCurve","segmentT","segmentL","segmentN","tempLength","inPolyline","isClose","PolyLine","_resetCache","PolylineUtil","inRectWithRadius","inRect","Text","_assembleFont","_setText","assembleFont","textArr","spaceingY","_getSpaceingY","getTextHeight","subText","fillText","strokeText","_drawTextArr","_drawText","multiView","viewOfG2","geometryAdaptor","multiPlot","plots","plot","execPlotAdaptor","Association","linkField","dataValue","data_1","getAssociationItems","Mix","charAtLength","charCodeAt","getMaxLabelWidth","texts","maxLen","maxIdx","code","getMaxLabelWidthOptimized","ellipsisLabel","limitLength","ellipsisText","labelLength","getLabelLength","codeLength","strLen","ellipsisFlag","reserveLength","newText","reseveLength","startStr","endStr","endIndex","startCodeLen","hasAdd","endCodeLen","ellipsisString","lineCount","getLineSpaceing","getTextWidth","measureWidth","trim","LOCATION_FIELD_MAP","none","locationType","updateInner","afterUpdate","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","_addDefaultArrow","isStart","arrowShape","isArrowShape","_addCustomizedArrow","arrowAttrs","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","viewRange","allowDraw","AbstractGroup","targetAttrs","afterAttrsChange","adapteStyle","styleObject","justifyContent","alignItems","shapeStyleKeys","setStatisticContainerStyle","renderStatistic","statistic","plotType","titleOpt","contentOpt","containerW","liquidShape","customHtml","renderGaugeStatistic","polarCoord","polarCenter","polarMaxY","containerWidth","lineStyle","lineShape","pointMapping","areaMapping","areaState","areaParams","lineGeometry","Funnel","FUNNEL_CONVERSATION_FIELD","BREAD_CRUMB_NAME","DEFAULT_BREAD_CRUMB_CONFIG","dividerText","activeTextStyle","HIERARCHY_DATA_TRANSFORM_PARAMS","DrillDownAction","drill","drawBreadCrumb","breadCrumbGroup","PADDING_TOP","historyCache","backTo","hideCrumbGroup","nodeInfo","transformData","drillData","nodeData","drillDownConfig","breadCrumbCfg","breadCrumb","drawBreadCrumbGroup","rootText","textShapeBox","targetId","newHistoryCache","dividerBox","phi","squarifyRatio","nodeValue","sumValue","newRatio","minRatio","beta","dice","treemapDice","treemapSlice","squarify","canStroke","shadow","_setColor","addGradient","addPattern","elementFromPoint","isEqualNode","Dom","toDataURL","ImageData","addArrow","getDefaultArrow","triangleDown","register","getAll","_assembleMarker","symbolsFactory","_formatPath","newValue","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","BASELINE_MAP","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","browser","detect","baseline","textLen_1","hierarchy","mapChildren","objectChildren","childs","Node","eachBefore","computeHeight","copyData","eachAfter","that","ancestor","aNodes","bNodes","leastCommonAncestor","descendants","leaves","Symbol","iterator","node_iterator","EventEmitter","_events","wildcardEvents","doEmit","es","catmullRomToBezier","iLen","ellipsePath","pa0","dots","crz","kk","l2c","q2c","ax","ay","_13","_23","a2c","large_arc_flag","sweep_flag","recursive","xy","f1","f2","_120","rx2","ry2","df","f2old","x2old","y2old","hx","hy","m1","m2","m3","m4","newres","path2","bx","by","X","Y","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","fixArc","pp","pi","fixM","path1","seg2","seglen","seg2len","p2s","parsePathArray","base3","p4","bezlen","Tvalues","Cvalues","ct","xbase","ybase","comb","curveDim","tvalues","bounds","b2ac","sqrtb2ac","mt","jlen","intersect","denominator","px2","py2","isPointInsideBBox","rectPath","r0","vb","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","interHelper","bez1","bez2","justCount","isBBoxIntersect","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","intersection","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","interPathHelper","decasteljau","recurse","middlePoints","splitSegment","leftSegments","splitCurve","fillPath","sourceLen","targetLen","segmentsToFill","filled","getMinDiff","del","modify","fillPathByDiff","diffMatrix","sourceSegment","targetSegment","levenshteinDistance","changes","minPos","_splitPoints","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","GraphEvent","defaultPrevented","propagationStopped","scaleAndAdd","squaredDistance","squaredLength","negate","inverse","normalize","lerp","transformMat2","transformMat2d","transformMat4","sinC","cosC","mag","cosine","zero","div","sqrDist","sqrLen","vec","stride","az","bz","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","offScreenCtx","ADJUST_MAP","MARGIN_RATIO","DODGE_RATIO","GAP","propagationPath","emitDelegation","parentChildren","clipPathEl","defsEl","children_1","deep","Pie","prevOptions","angleField","prevData","curData","isAllZero","pieAnnotation","TinyLine","Histogram","binField","binNumber","binWidth","stackField","binHistogram","Progress","getProgressData","progressStyle","barWidthRatio","DEFAULT_COLOR","clampPercent","optional","required","place","intersects","dr","ab","packEnclose","circles","aa","ca","sj","sk","enclose","extendBasis","B","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","enclosesWeak","encloseBasis","x21","y21","r21","d3","xa","xb","ya","yb","shuffle","isParentNode","inCenter","RANGE_VALUE","RANGE_TYPE","PERCENT","INDICATEOR_VIEW_ID","RANGE_VIEW_ID","indicator","pointer","pin","defaultSeparation","meanXReduce","maxYReduce","separation","nodeSize","cluster","previousNode","meanX","leafLeft","leafRight","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","nextAncestor","vim","TreeNode","tree","treeRoot","firstWalk","secondWalk","sizeNode","tx","kx","ky","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","sums","partition","valueOffset","valueTarget","valueLeft","valueRight","xk","yk","resquarify","_squarify","initCanvas","drawBackground","fillRect","getUnitPatternSize","isStagger","unitSize","getSymbolsPosition","transformMatrix","dpr","defaultDotPatternCfg","drawDot","defaultLinePatternCfg","createLinePattern","lineCfg","Path2D","createPattern","defaultSquarePatternCfg","drawSquare","strokeRect","dotCfg","createDotPattern","squareCfg","squares","createSquarePattern","radio","MarkerActiveAction","getView","items_1","InteractionAction","BRUSH_FILTER_EVENTS","Scatter","transformOptions","meter","STEP","STEP_RATIO","COORD_START_ANGLE","COORD_END_ANGLE","INTERVAL","START_ANGLE","END_ANGLE","Gauge","indicatorView","getIndicatorData","rangeView","getRangeData","Column","Bar","switchedFieldOptions","TinyColumn","TinyArea","RingProgress","SHAPE_MAP","setCanvas","setTimeline","timeline","Container","totalMatrix","_applyChildrenMarix","preTotalMatrix","getShapeBase","groupClass","tmpCfg","TmpGroupClass","_findShape","invertFromMatrix","isClipped","preParent","onCanvasChange","_applyElementMatrix","contain","MATRIX","CLONE_CFGS","RESERVED_PORPS","getFormatFromAttrs","fromAttrs","getFormatToAttrs","checkExistedAttrs","animations","onFrame","startTime","initAttrs","initAnimate","getDefaultMatrix","setAttr","applyTo","parentMatrix","Cons","_cloneArrayAttr","cons","cfgName","isPaused","timer","initTimer","pauseCallback","resumeCallback","formatToAttrs","pathFormatted","addAnimator","toEnd","pauseTime","_paused","_pauseTime","eventObj","relativeShape","paths","getEvents","subName","emitDelegateEvent","this_1","currentTarget","delegateTarget","translateX","translateY","newMatrix","targetX","targetY","move","ratioX","ratioY","BrowserInfo","os","NodeInfo","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","userAgent","parseUserAgent","navigator","product","matchUserAgent","ua","matched","uaMatch","matchedRule","versionParts","output","createVersionParts","detectOS","searchBotMatch","clearCacheBBox","calculateBBox","calculateCanvasBBox","shadowLeft","shadowRight","shadowTop","shadowBottom","inBBox","_isInBBox","isOnlyHitBox","stateStyles","styleName","regexPR","addStop","addColorStop","gradientStr","tanTheta","tanTheta2","createLinearGradient","parseLineGradient","fx","fy","fr","createRadialGradient","parseRadialGradient","patternStr","complete","parsePattern","defineProperty","exports","_len","_key","SensorTabIndex","SensorClassName","SizeSensorId","lineMapping","lineParams","areaGeometry","verticalAxis","horizontalAxis","barStyle","minBarWidth","maxBarWidth","barBackground","columnAdaptor","pieStyle","percentageField_1","dataum","angleScale","content_1","labelLayoutType","inner","outer","spider","labelLayoutCfg","adaptOffset","transformStatisticOptions","titleOpt_1","contentOpt_1","getTotalValue","metaFormatter","startStages_1","PIE_STATISTIC","stage","defaultOffset","ORIGIN_MATRIX","ulMatrix","getBinKey","originData_copy","rangeWidth","_binWidth","_defaultBinNumber","LN2","sturges","bins","bin","binKey","groupKey","groupKeyBinKey","plotData","HISTOGRAM_X_FIELD","HISTOGRAM_Y_FIELD","bisect","parameters","maxIterations","fA","fB","fMid","zeros","zerosM","norm2","weightedSum","w1","nelderMead","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","N","simplex","updateSimplex","sortOrder","reflected","contracted","expanded","iteration","history","sortedSimplex","worst","shouldReduce","wolfeLineSearch","pk","phi0","phiPrime0","fxprime","phi_old","phiPrime","a_lo","a_high","phi_lo","conjugateGradient","delta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","positionNode","roundNode","tile","ignoreParentValue","paddingInner","paddingOuter","treemap","tileMethod","d3Hierarchy","defaultRadius","radiusLeaf","packChildren","translateChild","constantZero","constant","paddingStack","gaugeStyle","indicatorData","rangeData","rangeColor","contentOption","transformContent","processRangeData","P","PLOT_ADAPTORS","lineAdaptor","pie","pieAdaptor","column","bar","barAdaptor","areaAdaptor","gauge","gaugeAdaptor","tinyLineAdaptor","tinyColumnAdaptor","tinyAreadaptor","ringProgressAdaptor","progress","progressAdaptor","scatter","scatterAdaptor","histogram","histogramAdaptor","funnelAdaptor","PLOT_CONSTRUCTOR","DEFAULT_OPTIONS_MAP","module","Stage","Lab","STABLE","DEV","BETA","taskHead","taskTail","frame","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","_next","restart","wake","timerFlush","t0","sleep","nap","poke","clearInterval","setInterval","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","tau","elasticIn","amplitude","period","elasticOut","elasticInOut","extend","definition","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","formatHex","color_formatRgb","formatRgb","rgbn","Rgb","rgba","hsla","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","basis","v3","define","channels","displayable","formatHsl","gamma","nogamma","exponential","rgbGamma","colorRgb","rgbSpline","spline","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","reA","reB","am","bm","bs","bi","one","string","numberArray","valueOf","IDENTITY_MATRIX","elapsed","d3Ease","cProps","interf","toPathPoint","fromPathPoint","cPathPoint","interpolate","_update","Timeline","d3Timer","animators","removeAnimator","isAnimatePaused","animator","emitTargetEvent","bubbleEvent","bubbles","isOverEvent","_triggerEvent","dragging","_getPointInfo","_emitEvent","draggingShape","_afterDrag","EventController","_bindEvents","_eventCallback","_onDocumentMove","_onDocumentMouseUp","clientPoint","getClientByEvent","getPointByEvent","_getShape","leaveCanvas","preShape","button","mousedownShape","mousedownPoint","mousedownTimeStamp","isCanvasEmit","_emitMouseoverEvents","_emitDragoverEvents","timeWindow","_getEventObj","_clearEvents","isFirefox","initTimeline","setDOMSize","eventController","layerX","layerY","clientInfo","touches","changedTouches","blendObject","normal","screen","overlay","darken","lighten","dodge","burn","blend","c0","mode","blendRgbArr","innerBlend","colorToArr","g0","g1","rgbaArr","SMALL","intersectionArea","stats","intersectionPoints","circleCircleIntersection","parentIndex","getIntersectionPoints","innerPoints","containedInCircles","arcArea","polygonArea","arcs","midPoint","angleDiff","circleArea","smallest","disjoint","circleOverlap","distanceFromIntersectArea","overlap","bestInitialLayout","areas","loss","lossFunction","setOverlaps","sets","rowid","mostOverlapped","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","greedyLayout","constrained","restarts","setids","matrices","distances","constraints","getDistanceMatrices","norm","xj","yj","dij","constrainedMDSGradient","positions","constrainedMDSLayout","overlaps","getBoundingBox","minMax","xRange","yRange","circleMargin","interior","exterior","computeTextCentre","solution","valid","areaStats","computeTextCentres","overlapped","circleids","circleid","getOverlappingCircles","areaids","exclude","setid","centre","ID_FIELD","blendMode","getColorMap","colorPalette","setsField","colorMap","colorPaletteLen","colorArr","JSON","stringify","layoutVennData","vennData","initialLayout","ids","pairs","addMissingAreas","setid_1","venn","xScaling","yScaling","scaling","scaleSolution","textCenters","circlePath","wide","intersectionAreaPath","fillAttrs","getFillAttrs","VennLabel","customLabelInfo","placeElementsOrdered","VennElementActive","syncElementsPos","toggle","VennElementHighlight","highlight","ElementSelectedAction","ElementSingleSelectedAction","VennElementSelected","VennElementSingleSelected","tempPadding","currSets","filterSets","legalArr","testArr","islegalSets","pointStyle","schemaGeometry","colorOptions","map_1","transformColor","vennInteraction","MAP_1","Venn","targetDepth","justify","sourceLinks","sumBy","maxValueBy","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultNodes","graph","defaultLinks","nodeById","computeLinkBreadths","link","targetLinks","Sankey","linkSort","iterations","sankey","computeNodeLinks","fixedValue","computeNodeValues","maxDepth","computeNodeDepths","computeNodeHeights","columns","computeNodeLayers","minValueBy","nodes_6","reorderLinks","initializeNodeBreadths","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","targetTop","dy_1","reorderNodeLinks","resolveCollisions","sourceTop","dy_2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","dy_3","dy_4","nodeAlign","nodeDepth","nodeSort","nodeWidth","nodePadding","extent","ALIGN_METHOD","minBy","sankeyLayout","sankeyLayoutOptions","sankeyProcessor","getNodeAlignFunction","layoutData","cutoffCircle","edges","removedData","getNodes","graphMatrix","visited","DFS","dfsNode","getNodeWidthRatio","nodeWidthRatio","getNodePaddingRatio","nodePaddingRatio","transformToViewsData","sankeyLayoutInputData","dataType","isNodeLink","isNode","COLOR_FIELD","NODES_VIEW_ID","EDGES_VIEW_ID","nodeStyle","edgeStyle","nodeState","edgeState","edgeView","nodeView","nodeDraggable","DRAG_INTERACTION","nodeInteractions","edgeInteractions","SankeyNodeDragAction","getNodeView","isNodeElement","getCurrentDatumIdx","currentElementIdx","isDragging","prevNodeAnimateCfg","prevEdgeAnimateCfg","getEdgeView","prevDatum","datumGap_1","nextDatum","newData","edgeData","isLast","nodesView","edgesView","tagCfg","maxLength","ellipsisPosition","tagGroup","maxTextLength","LineAnnotation","Theme","renderLine","TextAnnotation","resetLocation","getLocation","textGroup","getElementByLocalId","ArcAnnotation","renderArc","largeFlag","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","getImageAttrs","DataMarkerAnnotation","renderText","renderPoint","textAttrs","isVertival","findById","lineDisplay","DataRegionAnnotation","regionStyle","RegionFilterAnnotation","shapeIdx","adjustShapeAttrs","ShapeAnnotation","HtmlAnnotation","alignX","alignY","domWidth","domHeight","getMethod","mergeBBox","mergeArrowBBox","getExtraFromSegmentWithAngle","currentAndPre","currentAndNext","preAndNext","currentAngle","xExtra","yExtra","segmentsWithAngle","EllipseArcUtil","getPathBox","AxisType","DualAxesGeometry","LEFT_AXES_VIEW","RIGHT_AXES_VIEW","DEFAULT_YAXIS_CONFIG","DEFAULT_LEFT_YAXIS_CONFIG","DEFAULT_RIGHT_YAXIS_CONFIG","isLine","isColumn","getGeometryOption","transformObjectToArray","transformAttribute","getYAxisWithDefault","axisType","Left","Right","getViewLegendItems","legendItemName","isGeometry","viewId","attrItems","doSliderFilter","sliderValue","geometryOptions","allLine","createViews","SORT_MAP","formatData","FIELD_KEY","adjust_1","customOffset","drawSingleGeometry","themeColor","groupScale","leftView","rightView","commonInteraction","commonAnnotation","commonTheme","commonAnimation","commonLimitInPlot","leftLegend_1","rightLegend_1","leftItems","rightItems","yF","legendItem_1","DualAxes","AxisBase","overlapOrder","tickStates","optimize","displayWithLabel","labelStyle","tickLineStyle","threshold","drawTicks","drawTitle","itemGroup","updateTickStates","getSideVector","tickLineItems","tickLineLength","tickSegment","getTickPoint","getSidePoint","tickId","subTickLineItems","subCount","tickLineCount","tickItem","tickItems","defaultTickLineStyle","tickLineGroup","getTickLineAttrs","getTickLineItems","tickCfg","drawTick","subTickLineItems_1","getSubTickLineItems","optimizeTicks","processTicks","drawLabels","drawTickLines","applyTickStates","page_1","optimizedTicks","getTextAnchor","getTextBaseline","getLabelAttrs","processOverlap","defaultLabelStyle","afterProcessTicks_1","titleCfg","titleHeight","titlePoint","getAxisVector","getTitleAttrs","getItemStates","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","tickLineCfg","ellipseLabels","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","getRotateAngle","isRotate","isOverlap","prevBBox","reserveOne","labelsGroup","autoHideCfg","hasHide","parityHide","firstBBox","equidistance","reserveFirst","reserveLast","reserveBoth","preLabel","equidistanceWithReverseBoth","labelRotate","setLabelsAngle","fixedAngle","customRotate","unfixedAngle","regionX","regionY","axisVector","verticalVector","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","overlapCfg","verticalFactor_1","newAlign","unregisterElement","large","sweep","vecLen","stops","Gradient","self","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","Shadow","_parseShadow","Arrow","_setDefaultPath","_setMarker","Clip","shapeEl","Pattern","Defs","defaultArrow","autoDraw","srcElement","tagName","AbstractCanvas","CrosshairBase","renderBackground","textId","LineCrosshair","CROSSHAIR_LINE","CROSSHAIR_TEXT","CssConst","HtmlCrosshair","crosshairTpl","textTpl","HtmlTheme","resetText","crosshairEl","applyStyle","textEl","initCrossHair","alignText","BACKGROUND_STYLE","LINE_STYLE","AREA_STYLE","pointsToPath","dataToPath","getSmoothLinePath","linePathToAreaPath","areaPath","lineYPx","lineY","getAreaLineY","Trend","isArea","DEFAULT_HANDLER_STYLE","Handler","FOREGROUND_STYLE","HANDLER_STYLE","TEXT_STYLE","SLIDER_CHANGE","stopPropagation","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","delegateEmit","oldStart","oldEnd","newStart","newEnd","validCfg","minHandler","getChildComponentById","maxHandler","trend","addComponent","silent","handlerWidth","handlerHeight","foregroundShape","minTextShape","maxTextShape","_dodgeText","minAttrs","maxAttrs","onMouseDown","foreground","offsetRange","minBBox","maxBBox","spiral","timeInterval","wordCloud","words","cloudFont","cloudFontSize","cloudFontNormal","cloudRotate","cloudPadding","archimedeanSpiral","cloudText","cloudCanvas","cloud","ch","board","startX","dt","cloudCollide","collideRects","sprite","sw","lx","msx","contextAndRatio","zeroArray","tags","cloudSprite","hasText","hasImage","cloudBounds","_tags","_bounds","can","w32","cxt","imageData","functor","spirals","tagCloud","imageMask","cloudRadians","maxh","sr","cr","wcr","wsr","hcr","hsr","cw","xoff","yoff","seen","seenRow","archimedean","rectangular","sign","rawOptions","chartPadding","wordField","wordStyle","placementStrategy","numbers","getSingleKeyValues","getFontSizeMapping","getSize","getRotate","containerSize","resolvePadding","fMax_1","fMin_1","rotationSteps","resolveRotate","perSize","WORD_CLOUD_COLOR_FIELD","rotateRatio","getTextAttrs","WordCloud","Promise","rej","HTMLImageElement","onerror","ERROR","then","catch","SUNBURST_ANCESTOR_FIELD","SUNBURST_Y_FIELD","SUNBURST_PATH_FIELD","RAW_FIELDS","hierarchyConfig","sunburstStyle","drilldown","enabled","activeDepth","ancestorNode","polygonAdaptor","pathFormatter","valueFormatter","adaptorInteraction","baseInteraction","Sunburst","enableDrillDown","packLayout","resolvePaddingForCircle","wSize","hSize","restWidthPadding","restHeightPadding","finalSize","diameter","tempAppendPadding","appendPaddingByDrilldown","circleSize","nameFormatter","CirclePacking","maxYFieldValue","maxBy","conversionTagComponent","getLineCoordinate","lineOption","formatter_1","funnelStyle","baseGeometry","datumIndex","initLineOption","basicFunnel","compareField","formatterData","defaultFacetLabel","viewIndex","preItemX","preItemY","defaultOption","dynamicHeight","facetFunnel","compareFunnel","dynamicHeightFunnel","sizeRatio","heatmapStyle","checkedSizeRatio","dautm","sizeLegend","showLegend","maxSideLength","sideLength","quickselect","exp","sd","quantile","indices","quantileIndex","stack","quantileSelect","multiQuantileSelect","results","toBoxValue","low","high","q1","q3","toViolinValue","pdfOptions","pdfResults","pdf","violinSize","violinY","transformViolinData","kde","sampleSize","resultList","seriesGroup","series","VIOLIN_Y_FIELD","MIN_MAX_FIELD","QUANTILE_FIELD","MEDIAN_FIELD","VIOLIN_VIEW_ID","violinStyle","TOOLTIP_FIELDS","violinView","boxView","minMaxView","quantileView","medianView","legendField_1","legendOptions","baseAnnotation","getLiquidData","liquidStyle","outline","wave","border","getWaterWavePositions","waveLength","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","cpX","cpY","waveCount","minXPoint","waveAttrs","outlineAttrs","getLineAttrs","builtInShapeByName","shapePath","waves","clipPath","addWaterWave","Liquid","DIFF_FIELD","ABSOLUTE_FIELD","IS_TOTAL","leaderLine","risingFill","fallingFill","waterfallStyle","processed","newYField","dIdx","localeTotalLabel","colorMapping","Y_FIELD_META","labelMode","leaderLineCfg","linkPath","Waterfall","findInteraction","interactionType","enableInteraction","enableDrillInteraction","curPath","rectStyle","basePolygon","viewZoomInteraction","Treemap","transData","drillDownInteraction","resetDrillDown","areaOptions","RadarTooltipController","cfgTitle","hintItems","title_1","result_1","displayTitle","TooltipController","RadarTooltipAction","getTooltipController","Radar","BOX_RANGE","OUTLIERS_VIEW_ID","boxStyle","q1_1","median_1","q3_1","high_1","low_1","yFieldName","outliersPoint","outliersField","outliersStyle","outliersView","outliersViewData","baseMeta","syncName","Box","TREND_FIELD","TREND_DOWN","defaultContent","getStockData","close_1","open_1","stockStyle","Stock","measureField","rangeField","ds","rKey","mKey","tKey","flat","bulletStyle","extData","rangeGeometry","measureGeometry","targetGeometry","Bullet","getScaleMax","maxAngle","yData","formatRadian","actualData","stackedData","valueItem","getStackedData","intervalGeometry","RadialBar","FIRST_AXES_VIEW","SECOND_AXES_VIEW","SERIES_FIELD_KEY","hopeData","data1","data2","__axisPosition","firstView","secondView","firstViewData","secondViewData","aliasMap","metaKey","leftGeometry","rightGeometry","leftLabelCfg","positionMap_1","BidirectionalBar","sourceWeight","targetWeight","chordLayout","chordLayoutOptions","chordLayoutInputData","forIn","inEdges","outEdges","frequency","processGraph","localeCompare","sortNodes","outputNodes","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","layoutNodes","outputLinks","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","locatingEdges","NODE_COLOR_FIELD","EDGE_COLOR_FIELD","nodesData","edgesData","chordData","nodeGeometry","edgeGeometry","edgeOptions","Chord","facetAdaptor","facetType","restFacetCfg","viewOptions","execViewAdaptor","plotOptions","PieLegendAction","item_1","getActiveElements","elementLabels","getActiveElementLabels","transfrom","StatisticAction","_view","initialAnnotation","getAnnotations","colorField_1","initialStatistic","getInitialAnnotation","GridBase","alternateColor","closed","drawGrid","prePoints","getGridPath","reversePoints","nextPath","preItem","getPathStyle","lineId","gridPath","regionId","isEven","drawAlternateRegion","getAlternatePath","lineType","getLineType","sweepFlag_1","LegendBase","resetDraw","drawLegendContent","DEFAULT_PAGE_NAVIGATOR","RIGHT_ARROW_NAME","LEFT_ARROW_NAME","ROTATE_MAP","up","down","currentPageIndex","updateNavigation","getCurrentNavigationMatrix","totalPagesCnt","itemWidth","itemHeight","itemBackground","alignRight","itemElement","offsetGroup","drawItem","getItemHeight","clearUpdateStatus","processItems","drawItems","itemContainerGroup","wrapped","pageWidth","subGroup","pageHeight","adjustNavigation","style_1","markerAttrs","textName","xPosition","radioCfg","showRadio","radioShape","tip","groupId","subContainer","getLimitItemWidth","curX","markerShape","drawMarker","itemMarkerSpacing","nameShape","drawItemText","valueShape","drawRadio","applyItemStates","subGroups","navigation","drawNavigation","navigationBBox","widthLimit","maxRow","maxRowHeight_1","cntPerPage_1","styleCfg","arrowStyle","leftArrow","drawArrow","onNavigationBack","leftArrowBBox","onNavigationAfter","rightArrow","cursorX","updateArrowPath","itemStates_1","elName","ContinueLegend","getCurrentValue","resetTrackClip","resetHandlers","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","getValueByCanvasPoint","curValue","curDiff","dValue","drawLabel","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","railCfg","getRailPath","getRailShape","railBBox","getRailBBox","getPointByValue","trackCfg","getTrackPath","getTrackColor","trackId","trackShape","getClipTrackAttrs","trackAttrs","getTrackAttrs","getRailCanvasBBox","isVertcal","resetHandler","handlerCfg","oneSixthWidth","triangleX","triangleY","getHandlerPath","handlerShape","railShape","minLabel","maxLabel","getDrawPoint","fixedVertail","fixedHorizontal","minLabelBBox","maxLabelBBox","lengthField","changeRailLength","railHeight","fitRailLength","changeRailPosition","maxLabelWidth","xCrosshairTpl","yCrosshairTpl","crosshairsRegion","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","getHtmlContentNode","hasOneKey","cacheDoms","limitBox","getOffset","getPointByPosition","outSides","getOutSides","getAlignPoint","resetCrosshairs","curContainer","replaceChild","titleDom","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","substituteObj","domStr","itemDom","sectorStyle","Rose","BUTTON_ACTION_CONFIG","buttonStyle","drawText","getInteractionCfg","brushType","maskType","BRUSH_TYPES","brush","buttonConfig","REGRESSION_MAP","regressionExp","regressionLinear","loess","regressionLoess","regressionLog","poly","regressionPoly","regressionPow","quad","regressionQuad","pathData","regressionLine","algorithm","reg","xScaleView","yScaleView","isOneX","isOneY","meta_1","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","getMetaMinMax","fieldMeta","getCustomValue","getMeta","newOptions","shapeLegend","scatterGeometry","scatterAnnotation","quadrant","xBaseline","yBaseline","labels_1","regionStyle_1","defaultConfig_1","textOffset","getQuadrantDefaultConfig","top_1","defaultStyle_1","getRefXY","preTest","curShape","_clearFrame","drawFrame","clearAnimationFrame","_startDraw","_getRefreshRegion","_drawRegion","_drawAll","DEFAULT_THEME","isMobile","startPos","bindLaterEvent","endPos","updateThumbOffset","newOffset","validateRange","originalValue","minThumbLen","renderTrackShape","renderThumbShape","themeSize","onStartEvent","onTrackClick","thumbShape","onThumbMouseOver","onThumbMouseOut","emitOffsetChange","EN_US_LOCALE","ZH_CN_LOCALE","xDimensionLegenth","groupDataArray","adjustDataArray","frameIndex","getDistribution","getAdjustRange","valueArr","valIndex","getDodgeOffset","tickLength","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","adjustGroup","getAdjustOffset","Cache","processStack","processOneDimStack","positive","negative","xKey","newXValue","stackHeight","stackValue","getXValuesMaxMap","off_1","getDimMaxValue","dimValues","flattenValues","general","increase","decrease","waterfall","ver","_sensorPool","require","cb","sensor","getSensor","removeSensor","_id","__esModule","_sensors","_constant","Sensors","sensorId","newId","createSensor","_object","_resizeObserver","ResizeObserver","_debounce","listeners","resizeListener","listener","contentDocument","newSensor","disconnect","observe","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_s","err","xv","yv","Float64Array","ux","uy","visitPoints","determination","uY","predict","SSE","SST","sse","sst","interpose","xmin","xmax","LOG10E","maxIter","iter","found","mp","ols","uX","uXY","uX2","slope","YL","XY","XYL","X2Y","ly","_ols2","rSquared","X2","intercept","maxiters","epsilon","bandwidth","_points2","bw","yhat","residuals","robustWeights","W","denom","tricube","xkw","updateInterval","medianResidual","_w","logarithmic","lb","quadratic","X3","X4","n0","X2X2","polynomial","coefficients","_o","lhs","rhs","coef","gaussianElimination","uncenter","YS","LN_2","helper","kernel","getUnifiedMinMax","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","findMinMulti","findMaxMulti","normalizedMinMax","buckets","partialArea","partialAreas","accumulator","generatePartialAreas","fullArea","initalValue","bucket","xToBucket","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","startGradPos","inside","gradAccumulator","getExpectedValueFromPdf","expected","getXWithLeftTailArea","getPerplexity","entropy","ln","findMin","findMax","createNode","mountPoint","ReactDOM","deepClone","hasPath","useInit","ChartClass","useRef","chartOptions","onReady","onEvent","reactDomToString","statisticCustomHtml","setPath","statisticDom","processConfig","useEffect","currentConfig","inputConfig","changeType_1","currentKeys_1","chartInstance","encoderOptions","downloadImage","imageName","base64","href","download","ErrorBoundary","hasError","renderError","errorTemplate","React","message","getDerivedStateFromError","getDerivedStateFromProps","nextProps","Fragment","SVG","backgroundOpacity","baseUrl","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","fixedId","idClip","idGradient","idAria","rtlStyle","keyTimes","dur","React.createElement","role","stopColor","stopOpacity","repeatCount","defaultProps","ContentLoader","Svg","Facebook","ReactContentLoaderFacebook","viewBox","ChartLoading","loadingTemplate","LineChart","forwardRef","ref","chartRef","loading","useChart","G2plotLine","getChart","useImperativeHandle"],"mappings":"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","file":"static/js/3.aa3f67d2.chunk.js","sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","type FlowFunction<P> = (param: P) => P;\n\n/**\n *  lodash.flow \n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n","import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n","import { Geometry, View, Element } from '@antv/g2';\nimport { reduce, get } from '@antv/util';\n\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n *  View   elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n *  View   elements,  View  View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n *  View   geometries,  View  View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n","import { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { Position, Point } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \n * @param text \n * @param font \n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n","import { Chart, Event, Element } from '@antv/g2';\nimport { each } from '@antv/util';\nimport EE from '@antv/event-emitter';\nimport { bind } from 'size-sensor';\nimport { Options, StateName, StateCondition, Size, StateObject, Annotation } from '../types';\nimport { getContainerSize, getAllElementsRecursively, deepAssign, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/**  pick  */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot  */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n *  plot \n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   *  options \n   * \n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot  */\n  public abstract readonly type: string;\n  /** plot  schema  */\n  public options: O;\n  /** plot  dom */\n  public readonly container: HTMLElement;\n  /** G2 chart  */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   *  G2 \n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot  size-sensor  autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, //  G \n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    //  G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   *  chart  width  height\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   *  G2 \n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   *  options \n   * \n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   *  schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \n   */\n  public render() {\n    //  G2 \n    this.chart.clear();\n    //  view  view  options  legend legend \n    //  chart  options \n    //  G2 view.clear  options  resetOptions\n    // #1684  view  custom legend\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; //  views\n    //  adaptor\n    this.execAdaptor();\n    // \n    this.chart.render();\n    // \n    this.bindSizeSensor();\n  }\n\n  /**\n   * : \n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   *  id \n   */\n  public addAnnotations(annotations: Annotation[]): void {\n    const incoming = [...annotations];\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    this.chart.render(true);\n  }\n\n  /**\n   *  id \n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \n   */\n  public destroy() {\n    //  size-sensor \n    this.unbindSizeSensor();\n    // G2 \n    this.chart.destroy();\n    // \n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   *  adaptor \n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    //  padding\n    this.chart.padding = padding;\n    //  appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    //  G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   *  dom \n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \n        const { width, height } = getContainerSize(this.container);\n\n        //  resize \n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n","/**\n *  meta  key \n */\nexport const AXIS_META_CONFIG_KEYS = [\n  'type',\n  'alias',\n  'tickCount',\n  'tickInterval',\n  'min',\n  'max',\n  'nice',\n  'minLimit',\n  'maxLimit',\n  // \n  'range',\n  'tickMethod',\n  // type: 'log' \n  'base',\n  // type: 'exp' \n  'exponent',\n  // time \n  'mask',\n  // \n  'sync',\n];\n","import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n","import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n","import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,"export const version = '2.4.8';\n\n// G2 \nimport * as G2 from '@antv/g2';\nexport { G2 };\n\n// \nimport { registerLocale } from './core/locale';\nimport { EN_US_LOCALE } from './locales/en_US';\nimport { ZH_CN_LOCALE } from './locales/zh_CN';\n/** default locale register */\nregisterLocale('en-US', EN_US_LOCALE);\nregisterLocale('zh-CN', ZH_CN_LOCALE);\n/**    */\nexport { registerLocale };\n\n/**  */\nexport { setGlobal } from './core/global';\n\n/** G2Plot  Plot  */\nexport { Plot } from './core/plot';\n\n/** Adaptor  */\nexport type { Adaptor, Params } from './core/adaptor';\n\n// \nexport * from './types';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Line } from './plots/line';\nexport type { LineOptions } from './plots/line';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Area } from './plots/area';\nexport type { AreaOptions } from './plots/area';\n\n//  | author by [zqlu](https://github.com/zqlu)\nexport { Column } from './plots/column';\nexport type { ColumnOptions } from './plots/column';\n\n//  | author by [BBSQQ](https://github.com/BBSQQ)\nexport { Bar } from './plots/bar';\nexport type { BarOptions } from './plots/bar';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Pie } from './plots/pie';\nexport type { PieOptions } from './plots/pie';\n\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { Rose } from './plots/rose';\nexport type { RoseOptions } from './plots/rose';\n\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { WordCloud } from './plots/word-cloud';\nexport type { WordCloudOptions } from './plots/word-cloud';\n\n//  | author by [lxfu1](https://github.com/lxfu1)\nexport { Scatter } from './plots/scatter';\nexport type { ScatterOptions } from './plots/scatter';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Radar } from './plots/radar';\nexport type { RadarOptions } from './plots/radar';\n\n//  | author by [liuzhenying](https://github.com/liuzhenying)\nexport { DualAxes } from './plots/dual-axes';\nexport type { DualAxesOptions } from './plots/dual-axes';\n\n//  | author by [connono](https://github.com/connono)\nexport { TinyLine } from './plots/tiny-line';\nexport type { TinyLineOptions } from './plots/tiny-line';\n\n//  | author by [connono](https://github.com/connono)\nexport { TinyColumn } from './plots/tiny-column';\nexport type { TinyColumnOptions } from './plots/tiny-column';\n\n//  | author by [connono](https://github.com/connono)\nexport { TinyArea } from './plots/tiny-area';\nexport type { TinyAreaOptions } from './plots/tiny-area';\n\n//  | author by [arcsin1](https://github.com/arcsin1), [visiky](https://github.com/visiky)\nexport { Histogram } from './plots/histogram';\nexport type { HistogramOptions } from './plots/histogram';\n\n//  | author by [connono](https://github.com/connono)\nexport { Progress } from './plots/progress';\nexport type { ProgressOptions } from './plots/progress';\n\n//  | author by [connono](https://github.com/connono)\nexport { RingProgress } from './plots/ring-progress';\nexport type { RingProgressOptions } from './plots/ring-progress';\n\n//  | author by [jiazhewang](https://github.com/jiazhewang)\nexport { Heatmap } from './plots/heatmap';\nexport type { HeatmapOptions } from './plots/heatmap';\n\n//  | author by [BBSQQ](https://github.com/BBSQQ), [visiky](https://github.com/visiky)\nexport { Box } from './plots/box';\nexport type { BoxOptions } from './plots/box';\n\n//  | author by [YiSiWang](https://github.com/YiSiWang), [visiky](https://github.com/visiky)\nexport { Violin } from './plots/violin';\nexport type { ViolinOptions } from './plots/violin';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Venn } from './plots/venn';\nexport type { VennOptions } from './plots/venn';\n\n// K | author by [jhwong](https://github.com/jinhuiWong), [visiky](https://github.com/visiky)\nexport { Stock } from './plots/stock';\nexport type { StockOptions } from './plots/stock';\n\n// \nexport { Funnel, FUNNEL_CONVERSATION_FIELD } from './plots/funnel';\nexport type { FunnelOptions } from './plots/funnel';\n\n//  | author by [CarisL](https://github.com/CarisL), [hustcc](https://github.com/hustcc), [pearmini](https://github.com/pearmini)\nexport { Liquid } from './plots/liquid';\nexport type { LiquidOptions } from './plots/liquid';\n\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { Bullet } from './plots/bullet';\nexport type { BulletOptions } from './plots/bullet';\n\n//  | author by [lxfu1](https://github.com/lxfu1), [visiky](https://github.com/visiky)\nexport { Sunburst } from './plots/sunburst';\nexport type { SunburstOptions } from './plots/sunburst';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Gauge } from './plots/gauge';\nexport type { GaugeOptions } from './plots/gauge';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Waterfall } from './plots/waterfall';\nexport type { WaterfallOptions } from './plots/waterfall';\n\n//  | author by [yujs](https://github.com/yujs) | updated by [visiky](https://github.com/visiky)\nexport { RadialBar } from './plots/radial-bar';\nexport type { RadialBarOptions } from './plots/radial-bar';\n\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { BidirectionalBar } from './plots/bidirectional-bar';\nexport type { BidirectionalBarOptions } from './plots/bidirectional-bar';\n\n// \nexport { Treemap } from './plots/treemap';\nexport type { TreemapOptions } from './plots/treemap';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Sankey } from './plots/sankey';\nexport type { SankeyOptions } from './plots/sankey';\n\n//  | author by [MrSmallLiu](https://github.com/MrSmallLiu), [visiky](https://github.com/visiky)\nexport { Chord } from './plots/chord';\nexport type { ChordOptions } from './plots/chord';\n\n// circle-packing  | author by [visiky](https://github.com/visiky), [Angeli](https://github.com/Angelii)\nexport { CirclePacking } from './plots/circle-packing';\nexport type { CirclePackingOptions } from './plots/circle-packing';\n\n// \n/**  G2Plot.P  G2Plot.P  */\nexport { P } from './plugin';\n\n/**  getCanvasPatterng  */\nexport { getCanvasPattern } from './utils/pattern';\n\n//  Mix\nexport { Mix as MultiView } from './plots/mix';\nexport type { MixOptions as MultiViewOptions } from './plots/mix';\n/**  (mix) */\nexport { Mix as Mix } from './plots/mix';\nexport type { MixOptions } from './plots/mix';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Facet } from './plots/facet';\nexport type { FacetOptions } from './plots/facet';\n\n/**  adaptor  */\nexport { flow, measureTextWidth } from './utils';\n\n/**  geometry  adaptor */\nexport { line, interval, area, point, polygon, schema } from './adaptor/geometries';\nexport type {\n  LineGeometryOptions,\n  IntervalGeometryOptions,\n  AreaGeometryOptions,\n  PointGeometryOptions,\n  PolygonGeometryOptions,\n  SchemaGeometryOptions,\n} from './adaptor/geometries';\n/**  adaptor  */\nimport { scale, legend, tooltip, annotation, interaction, theme, animation } from './adaptor/common';\nexport const adaptors = { scale, legend, tooltip, annotation, interaction, theme, animation };\n\n/**  Lab  export */\nexport { Lab } from './lab';\n",null,null,null,null,"/*  */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  //  polygon \n  //  xs [1, 1, 1, 1]\n  //  ys [0, 0, 0, 0]\n  //  k = 0\n  //  [NaN, NaN]\n  // \n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   *  bbox \n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n\n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n *  BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \n  // geometry : edge,heatmap,interval,line,path,point,polygon,schema,voilininterval  linear scale \n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  //  (fix-later  scale type )\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n *  scale values  coordinate  range\n * @param scale  scale \n * @param coordinate coordinate \n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // , [0.5,0.5] \n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \n      range = [offset, 1 - offset]; // \n    }\n  }\n  return range;\n}\n\n/**\n * @function yscalemax\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // values[] NaN/undefined/null \n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n","import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis titlemix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   *  spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \n     * //  10% 10%\n     * ['10%', '10%']\n     * //  10px 10px\n     * [10, 10]\n     *\n     * // \n     * ['10%', 10]\n     * //  10% 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // xSPacing, ySpacing\n    // \n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num  cols/rows\n     * spacing  xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    //  index \n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      //  cp1 \n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      //  nextCp0 \n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskBBox;\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskShape.attr('path');\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return target && target.get('name') === 'mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); //  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   *  action method \n   * -  action args \n   */\n  arg?: any | any[];\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n  /**\n   *  action \n   */\n  arg?: any;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExecute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        };\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n *  axis \n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n *  legend \n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, //  value \n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \n  };\n}\n\n/**\n * \n * @param styleSheet \n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // Theme\n    /** geometrygeometrynull */\n    columnWidthRatio: 1 / 2,\n    /**  */\n    maxColumnWidth: null,\n    /**  */\n    minColumnWidth: null,\n    /**  */\n    roseWidthRatio: 0.9999999,\n    /** / */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, //  rail \n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const {\n    backgroundColor = 'transparent',\n    subColor = 'rgba(0,0,0,0.05)',\n    paletteQualitative10 = QUALITATIVE_10,\n    paletteQualitative20 = QUALITATIVE_20,\n    paletteSemanticRed = '#F4664A',\n    paletteSemanticGreen = '#30BF78',\n    paletteSemanticYellow = '#FAAD14',\n    paletteSequence = SINGLE_SEQUENCE,\n    fontFamily = `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n  } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  return {\n    /**  */\n    backgroundColor,\n    /**  */\n    brandColor,\n    /**  */\n    subColor,\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed,\n    /**  */\n    paletteSemanticGreen,\n    /**  */\n    paletteSemanticYellow,\n    /** () */\n    paletteSequence,\n    /**  */\n    fontFamily,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: brandColor,\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel  */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#000',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: brandColor,\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: brandColor,\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: brandColor,\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: brandColor,\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: brandColor,\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  //   ( light )\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  //  \n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n *  tooltip  title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  //  scale scale.getText() \n  //  scale title \n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        //  position \n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // null ,undefined\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  //  view \n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry  tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        //  'area', 'line', 'path' tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry  item geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n *  12  view \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  //  coordinate \n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          //  value  range  to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            //  range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone  padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  //  auto padding padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  //  padding \n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    //  axis \n    paddingCal.max(exceed);\n  });\n\n  //  padding \n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n *  syncViewPadding \n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  //  view  autoPadding \n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string;\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** padding */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: PaddingCal;\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /**  shape */\n  private backgroundStyleRectShape;\n  /**  view  padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   * @param params render \n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view  geometry  chart.geometry()  #2799\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    //  view \n    //  view \n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    //  padding \n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  4.1  view chart - view \n    //  API  warning\n    if (this.parent && this.parent.parent) {\n      //  3  \n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \n   * @returns  G2 \n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   *  padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   *  view  geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   *  view  geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoordinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    //  padding\n    this.renderPaddingRecursive(isUpdate);\n    // \n    this.renderLayoutRecursive(isUpdate);\n    //  shape\n    this.renderBackgroundStyleShape();\n    //  render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  shape\n   *  view  view \n   */\n  private renderBackgroundStyleShape() {\n    // \n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \n    if (background) {\n      // 1. \n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          //  shape \n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2.  shape \n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   *  view  padding coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  view  padding \n    // 4.1.  auto padding -> absolute padding appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2.  coordinateBBox Coordinate\n    //  view  viewBBox  parent  coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view padding\n    //  padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      //  padding  coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3.  view  view padding \n    this.doLayout();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      //  clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    //  coordinate bbox \n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          //  range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    //  render\n    for (let i = 0; i < this.getComponents().length; i++) {\n      const co = this.getComponents()[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \n    if (this.coordinateController) {\n      //  coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      //  coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    //  events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   *  WAI-ARIA  arial \n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    //  changeSize \n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   *  aria \n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); //  visible \n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      //  true autoFit = falseforceFit() \n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption  option used in annotation\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, isPointInCoordinate, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    //  customContent  tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title  items ,  tooltip \n    //  !isEqual(lastTitle, title) || !isEqual(lastItems, items)  tooltip \n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 resizetooltip\n      // tooltip\n      const canvas = this.view.getCanvas();\n      // TODO  tooltip  canvas \n      //  region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   *  enter tooltip \n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    //  tooltip dom \n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        //  clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...marker,\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   *  items  items\n   * \n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /** element  */\n  elementIndex?: number;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /** element  */\n  public elementIndex: number;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \n    newShape.cfg.element = this;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = undefined;\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        //  geometry  animate \n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    //  shape  clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          //  element  name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); //  name\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape  ( shapeFactory )\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n *  added, updated, removed\n * @param keyItem  key-item  object \n * @param keys  array \n * @returns  added, updated, removed array  object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** xpadding */\n  xDimensionLength?: number;\n  /** offset */\n  groupNum?: number;\n  /**  size */\n  defaultSize?: number;\n  /**  */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /**  */\n  columnWidthRatio?: number;\n  /** dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /** elements  zIndex  zIndexReversed  */\n  zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  sortZIndex?: boolean;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n\n  /**  */\n  intervalPadding?: number;\n  /**  */\n  dodgePadding?: number;\n  /**  */\n  maxColumnWidth?: number;\n  /**  */\n  minColumnWidth?: number;\n  /** intervalschema */\n  columnWidthRatio?: number;\n  /**  */\n  roseWidthRatio?: number;\n  /** / */\n  multiplePieWidthRatio?: number;\n}\n\n//  elementId  label element  labels labels \n//  ./label/base.ts#L263\nfunction filterLabelsById(id: string, labelsMap: Record<string, IGroup>) {\n  const labels = [];\n  each(labelsMap, (label: IGroup, labelId: string) => {\n    const elementId = labelId.split(' ')[0];\n    if (elementId === id) {\n      labels.push(label);\n    }\n  });\n\n  return labels;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /** custom  */\n  protected customOption: CustomOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \n  /**  */\n  protected intervalPadding: number;\n  /**  */\n  protected dodgePadding: number;\n  /**  */\n  protected maxColumnWidth: number;\n  /**  */\n  protected minColumnWidth: number;\n  /**  */\n  protected columnWidthRatio: number;\n  /**  */\n  protected roseWidthRatio: number;\n  /** / */\n  protected multiplePieWidthRatio: number;\n  /** elements  zIndex  zIndexReversed  */\n  public zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  public sortZIndex?: boolean;\n\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  shape  shape  shape  shape \n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   *  shape \n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.initAttributes(); // \n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate);\n    }\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   *  adjust \n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  coordinate \n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    //  diff  added, updated \n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    //  keys\n    //  key \n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    //  element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(currentShapeCfg); //  element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  setZIndex  sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    //  elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // theme\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // size\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          // theme\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    each(this.elementsMap, (element: Element, id) => {\n      const labels = filterLabelsById(id, labelsMap); // element  label \n      if (labels.length) {\n        element.labelShape = labels;\n        for (let i = 0; i < labels.length; i++) {\n          const label = labels[i];\n          const labelChildren = label.getChildren();\n          for (let j = 0; j < labelChildren.length; j++) {\n            const child = labelChildren[j];\n            child.cfg.name = ['element', 'label'];\n            child.cfg.element = element;\n          }\n        }\n      }\n    });\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n *  ()\n * @param element \n * @param rotateRadian \n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n *  Label Group  shape \n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * : box () + rotation ()\n */\nexport function getlLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: LabelItem,\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label  */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc  label ( id  idx )\n * @done shape \n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  fromShape.getChildren().forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getlLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n  private lastShapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n\n  /**\n   * \n   */\n  public render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    this.shapesMap = {};\n    const container = this.container;\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // step 2:  labels\n      this.doLayout(items, shapes);\n      // step 3.1:  labelLine\n      this.renderLabelLine(items);\n      // step 3.2:  labelBackground\n      this.renderLabelBackground(items);\n      // step 4:  label\n      this.adjustLabel(items);\n    }\n\n    // \n    const lastShapesMap = this.lastShapesMap;\n    const shapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; //  shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          this.shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          container.add(shape);\n\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.lastShapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n    this.lastShapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n    this.lastShapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup) {\n    const { id, elementId, data, mappingData, coordinate, animate, content } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    this.shapesMap[id] = labelGroup;\n  }\n\n  // typelabel\n  private doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      each(layouts, (layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (layoutFn) {\n          const labelShapes = [];\n          const geometryShapes = [];\n          each(this.shapesMap, (labelShape, id) => {\n            labelShapes.push(labelShape);\n            geometryShapes.push(shapes[labelShape.get('elementId')]);\n          });\n\n          layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n        }\n      });\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[]) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = this.shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[]) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = this.shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getlLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[]) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = this.shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix:  label content  group  content group   spider label  2  textShape  gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public render(mapppingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mapppingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon  (interval  middle)  offset  0  \n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon  offset  0  \n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc  label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label  ()\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            //  label y,  y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // label X \n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        elementId: this.geometry.getElementId(mappingData), // label  Element  ID\n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg  innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      //  offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/**  marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n *  marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n *  marker  symbol, \n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n *  marker  symbol  symbol \n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @param showSinglePoint \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n *  path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *   path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n *   \n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); //  connectNulls  points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n *  path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","/* G2  Geometry */\n\nexport const VERSION = '4.1.46';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as Element } from './geometry/element'; // Element \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction, Action } from './interaction'; // Interaction, Action \nexport { Facet } from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \n  getPath,\n  getPathPoints,\n};\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const {\n    backgroundColor = '#141414',\n    subColor = 'rgba(255,255,255,0.05)',\n    paletteQualitative10 = QUALITATIVE_10,\n    paletteQualitative20 = QUALITATIVE_20,\n    paletteSemanticRed = '#F4664A',\n    paletteSemanticGreen = '#30BF78',\n    paletteSemanticYellow = '#FAAD14',\n    paletteSequence = SINGLE_SEQUENCE,\n    fontFamily = `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n  } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  return {\n    /**  */\n    backgroundColor,\n    /**  */\n    brandColor,\n    /**  */\n    subColor,\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed,\n    /**  */\n    paletteSemanticGreen,\n    /**  */\n    paletteSemanticYellow,\n    /** () */\n    paletteSequence,\n    /**  */\n    fontFamily,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendSpacing: 16,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry label  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    overflowLabelFontSize: 12,\n    /** Geometry label  */\n    overflowLabelLineHeight: 12,\n    /** Geometry label  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#fff',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: QUALITATIVE_10[0],\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: QUALITATIVE_10[0],\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n};\n\nexport const antvDark = createDarkStyleSheet();\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n  /**  */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n  /**  */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path  element \n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); //  shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(shapeCfg); //  element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \n    let bottomLinePoints = []; // area \n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; //  X \n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /**  callback  */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *  rect path  radius\n * @returns  path  arc \n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  //  \n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n *  interval  path\n * @param cfg \n * @param points  4 \n * @param coordinate \n * @returns  path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      path.push(['M', p0.x, p1.y + r1]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p1.x, p1.y + r2]);\n      path.push(['L', p1.x, p0.y - r3]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      //  path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      //  path coordinate \n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param lineCap 'round'\n * @param coor \n * @returns  path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n *   \n * - \n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  //  \n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  /**\n   * \n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1  p2\n   *      \n   *  p0  p3\n   *\n   *  \n   *\n   *  p0  p3               p2  p1\n   *                           \n   *  p1  p2  --> ()  p3  p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (p0.y < p1.y /**  */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/**  */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \n  const { intervalPadding, dodgePadding } = geometry;\n  // theme\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // count\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \n    normalizedSize *= wr;\n  }\n  // \n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path  */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape  Interval Geometry  interval-rect shape  */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape  interval-rect shape  */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; //  X \n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \n * \n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size  */\n  private _sizeField: string;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), //  rect \n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   *  interval label  value \n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points  x/y  transpose \n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   *  interval  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   *  interval label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    //  interval label position  middle offset  0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc  label offset\n   * polar & theta coordinate supportstringtype, should transform to number\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   *  labelItems,  percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * \n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { vec2 } from '@antv/matrix-util';\nimport { BBox, Point } from '../dependents';\n\nconst { dot } = vec2;\ntype Vec2 = [number, number];\n\ntype Box = Pick<BBox, 'x' | 'y' | 'width' | 'height'> & { rotation?: number };\n\n/**\n * \n */\ntype Projection = { min: number; max: number };\n\n/**\n * @private\n * 1. \n */\nfunction getAxes(points: Point[] /**  */): Vec2[] {\n  //   , \n  if (points.length > 4) {\n    return [];\n  }\n  // \n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  //   2 : A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \n * \n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Box): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \n *\n * \n * 1 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n  // \n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return isNumber(d) && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Box) {\n  return Object.values(box).every(isValidNumber);\n}\n\n/**\n * \n */\nexport function isIntersectRect(box1: Box, box2: Box, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * , \n *\n * - : \n */\nexport function isIntersect(box1: Box, box2: Box) {\n  //  box  box\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2);\n  }\n\n  //  4 \n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \n  const axes = [...getAxes(rect1Points), ...getAxes(rect2Points)];\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \n    if (!isProjectionOverlap(projection1, projection2)) return false;\n  }\n\n  return true;\n}\n","import colorUtil from '@antv/color-util';\n\n// \nconst preset = {\n  '#5B8FF9': true,\n};\n\n// YIQ\n// http://24ways.org/2010/calculating-color-contrast\n// http://www.w3.org/TR/AERT#color-contrast\nexport const isContrastColorWhite = (color: string): boolean => {\n  const rgb = colorUtil.toRGB(color).toUpperCase();\n  if (preset[rgb]) {\n    return preset[rgb];\n  }\n\n  const [r, g, b] = colorUtil.rgb2arr(rgb);\n  const isDark = (r * 299 + g * 587 + b * 114) / 1000 < 128;\n\n  return isDark;\n};\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport { isIntersect } from '../../../../util/collision-detect';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { isString, memoize, values, toString } from '@antv/util';\nimport * as CSS from 'csstype';\nimport { getCanvasContext } from './context';\n\ntype FontFace = CSS.Properties;\n\ntype Font = Pick<FontFace, 'fontFamily' | 'fontWeight' | 'fontStyle' | 'fontVariant'> & {\n  fontSize?: number;\n};\n\n/**\n * \n */\nexport const measureTextWidth = memoize(\n  (text: any, font: Font = {}): number => {\n    const { fontSize, fontFamily, fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    ctx!.font = [fontStyle, fontVariant, fontWeight, `${fontSize}px`, fontFamily].join(' ');\n    return ctx!.measureText(isString(text) ? text : '').width;\n  },\n  (text: any, font: Font = {}) => [text, ...values(font)].join('')\n);\n\n/**\n *  ... \n *  measureText measureText \n * 1.  STEP  maxWidth \n * 2. \n * @param text ,  string,number\n * @param maxWidth\n * @param font\n */\nexport const getEllipsisText = (text: any, maxWidth: number, font?: Font) => {\n  const STEP = 16; //  16\n  const DOT_WIDTH = measureTextWidth('...', font);\n\n  let leftText;\n\n  if (!isString(text)) {\n    leftText = toString(text);\n  } else {\n    leftText = text;\n  }\n\n  let leftWidth = maxWidth;\n\n  const r = []; // \n  let currentText;\n  let currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  }\n\n  //  step \n  while (true) {\n    // \n    currentText = leftText.substr(0, STEP);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText);\n\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP);\n\n    // \n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  //  STEP 1 \n  while (true) {\n    // \n    currentText = leftText.substr(0, 1);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText);\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return `${r.join('')}...`;\n};\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  if (isNumberEqual(endAngle, Math.PI * -0.5)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nfunction getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  //  diff  attrs\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack,  /examples/bar/basic/demo/radial-line.ts \n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        //  path  setState() \n        shape.attr('path', path);\n      },\n    }\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = (Math.PI * 2) / count;\n\n    // \n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \n    const endAngle = (Math.PI * 1) / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 1/3\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * \n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/**  */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   *  annotation  render  layout \n   */\n  public layout() {\n    this.update();\n  }\n\n  //  Annotation  layout() \n  public render() { }\n\n  /**\n   * \n   */\n  public update() {\n    // 1.   Geometry \n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      //  regionFilter/shape \n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      //  cache\n      // \n      this.cache = this.syncCache(updated);\n    });\n\n    // 2.  regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        //  geometry \n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n            doWhat();\n          });\n        }\n      });\n    } else {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   *  ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   *  HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html  parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html  G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   *  annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      //  regionFilter/shape render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter/shape regionFilter/shape  Geometry  Shape view render \n        //  render \n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \n   * @param updated \n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \n\n    //  update  cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    //  options \n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   *  key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    //  id id string option  key\n    return option;\n    //  id \n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid x \n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    //  verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      ticks.pop();\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    //  update \n    this.update();\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) {\n      return;\n    }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    //  legend  viewBBox \n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        //  view \n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   *  slider \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   *  start/end  minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   *  view \n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    //  x \n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      //  bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /**   */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /**   */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    //  y \n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport { View } from 'src/chart';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false  shape  view  Geometry shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n *  Action.  interval  schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   * @param {ShapeAttrs} style region-path \n   * @param {number} appendRatio .  x  linear : 0.25, x  linear :  0\n   * @param {number} appendWidth  .  > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; //  x \n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            //    minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    //  showDelay  16ms tooltip  enterable\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    //  enterable +  tooltip \n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    //  tooltip \n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n *  Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      const tipContent = target.get('tip');\n      //  tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); //  tooltip \n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      //  mask \n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \n * 1. toggle \n * 2. checked \n * 3. reset \n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  //  checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  checked  checked \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * .\n   * 1.    item \n   * 2. \n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      //    unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   *  checked  unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1.  checked radio, clickItem \n       * 2. \n       *    2.1  item  clickItem\n       *    2.2  item\n       * 3.  2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip ()\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      //  tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r,\n    };\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(): Region {\n    const points = this.points;\n    return {\n      start: head(points),\n      end: last(points),\n    };\n  }\n  // \n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    const x = Math.min(start.x, end.x);\n    const y = Math.min(start.y, end.y);\n    const width = Math.abs(end.x - start.x);\n    const height = Math.abs(end.y - start.y);\n    return {\n      x,\n      y,\n      width,\n      height,\n    };\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(): Region {\n    let start = null;\n    let end = null;\n    const points = this.points;\n    const dim = this.dim;\n    const coord = this.context.view.getCoordinate();\n    const normalStart = coord.invert(head(points));\n    const normalEnd = coord.invert(last(points));\n    if (this.inPlot) {\n      //  0 - 1 \n      clampPoint(normalStart);\n      clampPoint(normalEnd);\n    }\n    if (dim === 'x') {\n      // x , y \n      start = coord.convert({\n        x: normalStart.x,\n        y: 0,\n      });\n      end = coord.convert({\n        x: normalEnd.x,\n        y: 1,\n      });\n    } else {\n      // y , x \n      start = coord.convert({\n        x: 0,\n        y: normalStart.y,\n      });\n      end = coord.convert({\n        x: 1,\n        y: normalEnd.y,\n      });\n    }\n    return {\n      start,\n      end,\n    };\n  }\n}\n\nexport default DimRect;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    const path = [];\n    if (points.length) {\n      each(points, (point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n      path.push(['L', points[0].x, points[0].y]);\n    }\n    return path;\n  }\n\n  protected getMaskAttrs() {\n    return {\n      path: this.getMaskPath(),\n    };\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    return getSpline(points, true);\n  }\n}\n\nexport default SmoothPathMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { get } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { isIntersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getlLabelBackgroundInfo } from '../util';\n\n/**\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function hideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  // todo  labelrank\n  // each label will hide the next one because the next one always has lower rank.\n\n  // Detect overlapping labels\n  for (let i = 0; i < labels.length; i++) {\n    const label1 = labels[i];\n    if (labels[i].get('visible')) {\n      for (let j = i + 1; j < labels.length; j++) {\n        const label2 = labels[j];\n        if (label1 && label2 && label1 !== label2 && label2.get('visible')) {\n          const box1 = getlLabelBackgroundInfo(label1, items[i], get(items[i], 'background.padding'));\n          const box2 = getlLabelBackgroundInfo(label2, items[j], get(items[j], 'background.padding'));\n\n          if (isIntersect(box1, box2)) {\n            labels[j].set('visible', false);\n          }\n        }\n      }\n    }\n  }\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout  */\nexport interface LimitInPlotLayoutCfg {\n  /**  Plot  */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /**  margin */\n  margin?: number;\n  /**  translate ; ellipsis  text  */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n *  label  Plot  Plot  label \n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\n/**\n *  labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    //  & \n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    //  smooth, undefined  smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 0 , 1 \n      let sweepFlag = 0;\n\n      // \n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       *  (100, 100),  (100, 90),  (50, 50)  (150, 50);\n       * A  4  large-arc-flag,  180 : 0 1 \n       *  5 : \n       */\n      // \n      const largeArcFlag = 0;\n      // step1: \n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3:   \n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2:  curve line ( & , , )\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n *  outer-label ,  type = pie  label offset > 0 \n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight  label \n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      //  overflowLabel \n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; //  500 \n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** ,  */\nconst INFLECTION_OFFSET = 4;\n/** , distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/**  */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /**  */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n *  spider ,  pie-spider \n * region  labelsRenderer ()\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    const label = get(labelsMap, [item.id]);\n    if (!label) {\n      return;\n    }\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const seperateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(seperateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(seperateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(seperateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /**  pos.x  item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  // \b\n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n    },\n  });\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n","import { Geometry } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Interaction } from '../types/interaction';\nimport { Axis } from '../types/axis';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { pick, deepAssign } from '../utils';\n\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(chart.geometries, (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n *  state \n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1.  scale \n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta  scale \n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /**  annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  //  limitInPlot yAxis  min/max  limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\nexport { pattern } from './pattern';\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /** area  */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              shape: smooth ? 'smooth' : 'area',\n              tooltip: formatter,\n              ...area,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /**  */\n  readonly connectNulls?: boolean;\n  /** line  */\n  readonly line?: MappingOptions;\n  /**  */\n  readonly stepType?: string;\n}\n\n/**\n * line \n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { GeometryOptions, MappingOptions, geometry } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField: string;\n  /** y  */\n  readonly yField: string;\n  /**  groupFieldcolorField stackFieldcolorField  */\n  readonly seriesField?: string;\n  /**  */\n  readonly isGroup?: boolean;\n  /**  */\n  readonly isStack?: boolean;\n  /**  [0-1] */\n  readonly widthRatio?: number;\n  /** () */\n  readonly intervalPadding?: number;\n  /**  [0-1] */\n  readonly marginRatio?: number;\n  /** () */\n  readonly dodgePadding?: number;\n  /**  */\n  readonly minColumnWidth?: number;\n  /**  */\n  readonly maxColumnWidth?: number;\n  /**  */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /**  colorshapesizestyletooltip */\n  readonly interval?: MappingOptions;\n  /**  seriesField , isGroup: true  groupField */\n  readonly groupField?: string;\n}\n\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio  theme \n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  //  interval \n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: { dodgePadding, intervalPadding, minColumnWidth, maxColumnWidth, background: columnBackground },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** edge  */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y Y */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** violin  */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n",null,null,null,"import { uniq, isFunction, isObject, isString, isNumber, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr, Options, Datum } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \n */\nexport type MappingOptions = {\n  /** color  */\n  readonly color?: ColorAttr;\n  /** shape  */\n  readonly shape?: ShapeAttr;\n  /** ,  */\n  readonly size?: SizeAttr;\n  /**  */\n  readonly style?: StyleAttr;\n  /** tooltip  */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \n * // TODO  adjust  field  styleFieldlabelField \n */\nexport type Geometry = {\n  /** geometry , 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly colorField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** style  */\n  readonly styleField?: string;\n  /** tooltip  */\n  readonly tooltipFields?: string[] | false;\n  /** ,  mapping  */\n  readonly rawFields?: string[];\n  /**  */\n  readonly mapping?: MappingOptions;\n  /** label  */\n  readonly label?: Label;\n  /**  */\n  readonly state?: State;\n  /**  registerShape  */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField, rawFields = [] } = o;\n\n  let fields = [];\n\n  //  color  bar  widthRatio \n  //  color  colorField  + rawFields\n  // shape, size \n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \n    fields.splice(idx, 1);\n    // \n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   *  line geometry  color \n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    //  undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  //  mapping \n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  //  geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip  API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  //  x y \n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor  geometry  adaptor type \n    ext: { geometry },\n  };\n}\n",null,null,null,null,null,null,null,null,null,null,"import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, //  tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;",null,null,null,null,null,null,null,null,null,null,"import { Types } from '@antv/g2';\nimport { isNumber, isArray } from '@antv/util';\n\n/**\n *  padding \n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n *  appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n *  padding  appendPadding  padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  //  padding  normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      //  padding \n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n","import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { getCanvasPattern } from '../utils/pattern';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\n\n/**\n *  Pattern  options colorField/seriesField/stackField \n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \n *   view \n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    //  pattern \n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~  ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1.  patternOption `(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2.  pattern  CanvasPattern fill\n      if (pattern instanceof CanvasPattern === false) {\n        //  createPattern(PatternStyle)  CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n","// : data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n",null,null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"[1-9]\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  const dateWithoutTZ: Date = new Date(\n    dateInfo.year,\n    dateInfo.month,\n    dateInfo.day,\n    dateInfo.hour,\n    dateInfo.minute,\n    dateInfo.second,\n    dateInfo.millisecond\n  );\n\n  const validateFields: [\n    \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n    \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n  ][] = [\n    [\"month\", \"getMonth\"],\n    [\"day\", \"getDate\"],\n    [\"hour\", \"getHours\"],\n    [\"minute\", \"getMinutes\"],\n    [\"second\", \"getSeconds\"]\n  ];\n  for (let i = 0, len = validateFields.length; i < len; i++) {\n    // Check to make sure the date field is within the allowed range. Javascript dates allows values\n    // outside the allowed range. If the values don't match the value was invalid\n    if (\n      specifiedFields[validateFields[i][0]] &&\n      dateInfo[validateFields[i][0]] !== dateWithoutTZ[validateFields[i][1]]()\n    ) {\n      return null;\n    }\n  }\n\n  if (dateInfo.timezoneOffset == null) {\n    return dateWithoutTZ;\n  }\n\n  return new Date(\n    Date.UTC(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute - dateInfo.timezoneOffset,\n      dateInfo.second,\n      dateInfo.millisecond\n    )\n  );\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1.  max \n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \n * @param data\n * @param measure  // \n * @param fields //  field\n * @param as // percent \n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // key\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // key\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPecentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n","import { theme, scale, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n","import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import { map, find, each, isObject } from '@antv/util';\nimport { Coordinate, IGroup, ShapeAttrs, Element, Geometry, View, getTheme } from '@antv/g2';\nimport { Params } from '../core/adaptor';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\nimport { Options } from '../types';\n\n/**  */\nexport interface ConversionTagOptions {\n  /** tag  */\n  size?: number;\n  /** tag  */\n  spacing?: number;\n  /** tag  */\n  offset?: number;\n  /**  */\n  arrow?:\n    | {\n        /**  */\n        headSize?: number;\n        /**  */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /**  */\n  text?:\n    | {\n        /**  */\n        size?: number;\n        /**  */\n        style?: ShapeAttrs;\n        /**  */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/**  */\ntype TagRenderConfig = {\n  /**  View */\n  view: View;\n  /**  geometry */\n  geometry: Geometry;\n  /**  group */\n  group: IGroup;\n  /**  */\n  options: ConversionTagOptions;\n  /**  */\n  field: string;\n  /** / */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      //  1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      //   shape annotation \n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n","import { registerInteraction, ShapeAttrs, Element } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** ,  hover */\n  trigger?: 'hover' | 'click';\n  /**  */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/**  */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  scrollbar,\n  limitInPlot,\n  state,\n} from '../../adaptor/common';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { flow, transformLabel, deepAssign, findGeometry, adjustYMetaByZero, pick } from '../../utils';\nimport { getDataWhetherPecentage, getDeepPercent } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  //  legend \n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPecentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // ,seriesField \n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        //  label layout  layout  position  layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip  ()\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          return items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \n    theme, // theme  geometry \n    pattern('columnStyle'),\n    state,\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};",null,null,null,"import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n","import { View } from '@antv/g2';\n\n/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n","/**\n * \n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n","import { get, isNumber, filter } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  //  chord layout \n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    //  id \n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n","import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { isArray, isString, filter } from '@antv/util';\n\n/** export  */\n/**  */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child  */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/**  */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { Axis } from '../../types/axis';\nimport { Legend } from '../../types/legend';\nimport { Interaction } from '../../types/interaction';\nimport { MixOptions, IView, IGeometry } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1.  view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation ()\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1  Geometry todo \n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {} } = plot;\n    const { tooltip } = options;\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      //  tooltip \n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, options);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, //  view \n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip\n    // ...  adaptor flow\n  )(params);\n}\n","import { each, get, map, isArray } from '@antv/util';\nimport { registerAction, registerInteraction, View, Element, Action } from '@antv/g2';\nimport { getAllElements, getViews, getSiblingViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nclass Association extends Action {\n  /**\n   *  elements\n   *\n   * -  dim  dim  field linkField  return\n   * -  dim  linkField \n   * -  linkField \n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   *  tooltip \n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   *  tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   *  active \n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   *  selected \n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   *  =>  inactive \n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n","import { View, Element } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { MixOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { MixOptions };\n\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /**  */\n  public type: string = 'mix';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n",null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,"import { View, IGroup } from '@antv/g2';\nimport { each, get, isNumber, isFunction, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { pick, kebabCase } from '.';\n\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  //  shapeStyle   start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  //  shapeStyle   end\n\n  each(style, (v, k) => {\n    //   shapeStyle  fontSize \n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n","import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  limitInPlot,\n  scrollbar,\n} from '../../adaptor/common';\nimport { findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { point, line, area } from '../../adaptor/geometries';\nimport { flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      //  tooltip \n      // \n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * .  reflect \n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label  false,   label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n","import { each } from '@antv/util';\nimport { Element } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StateName, StateCondition, StateObject } from '../..';\nimport { getAllElementsRecursively } from '../../utils';\nimport { FunnelOptions } from './types';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\n\nexport type { FunnelOptions };\n\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /**  */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \n  /**    */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /**    */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /**    */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get, last, isNil, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// '/'\nconst PADDING = 4;\n// \nconst PADDING_LEFT = 0;\n// \nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb:  */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /**  */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \n */\nexport type HierarchyNode<N = any /**  */> = {\n  /** todo  key  origin */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** ,  transformData  */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** .  unique */\n  depth: number;\n  /** depth + height =  */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description  action\n * @author liuzhenying\n *\n * hierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \n  protected historyCache: HistoryCache = [];\n  //  group\n  private breadCrumbGroup: IGroup = null;\n  // \n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * , \n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   *  chart  afterchangesize \n   */\n  public resetPosition() {\n    //  changedata  resetPosition  this.breadCrumbGroup \n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo  margin  padding \n    //  polar  coordinate\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP  */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   *  view \n   * @param nodeInfo \n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    //  update \n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \n   * @param historyCache \n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   *  mix \n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   *  Button  \n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    //  group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \n    let left = 0;\n    cache.forEach((record, index) => {\n      // \n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n",null,null,null,null,"function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n",null,null,"import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,null,null,"/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n","const MAX_MIX_LEVEL = 5; // \n\nconst toString = {}.toString;\n\n// \nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null  undefined \n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n","import { each } from '@antv/util';\n/**\n * @file ...\n */\nexport const GLOBAL = {\n  /**  */\n  locale: 'en-US',\n};\n\n/**\n * \n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** point  */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\nimport './interactions';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'pie';\n\n  /**\n   * \n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    //  0\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo  G2  afterrender  annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TinyLineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ProgressOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n","import { isString } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { ProgressOptions } from './types';\nimport { DEFAULT_COLOR } from './constants';\nimport { getProgressData } from './utils';\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: '1',\n      yField: 'percent',\n      seriesField: 'type',\n      isStack: true,\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      type: 'target',\n      percent: 1 - clampPercent,\n    },\n  ];\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    //  element:mouseleave \n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n","export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/**    */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \n  range: {\n    ticks: [],\n  }, // \n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    //  view  scale  v \n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","import { PatternCfg } from '../../types/pattern';\n\n/**\n * \n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n *  cavnas\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \n *\n * @param size \n * @param padding \n * @param isStagger \n * @reutrn \n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // , unitSize \n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \n *\n * @param unitSize \n * @param isStagger \n * @reutrn  x,y \n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // ,  dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n *  pattern , \n *\n * @param pattern \n * @param dpr  \n * @param rotation \n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n","import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * dotPattern\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param x x\n * @param y y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n *  dot pattern HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  //  dots\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgrounddots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { initCanvas, drawBackground, transformMatrix, getPixelRatio } from './util';\n\n/**\n * linePattern  \n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * line\n *\n * @param context canvasContext\n * @param cfg linePattern \n * @param d  path  d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n *  linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  //  pattern  path  d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  //  patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  //  Pattern \n  return pattern;\n}\n","import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * squarePattern  \n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * square\n *\n * @param context canvasContext\n * @param cfg squarePattern \n * @param xy square\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // xy\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n *  squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  //  squares\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); //  dots \n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundsquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n *  CanvasPattern \n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n","import { each, findIndex } from '@antv/util';\nimport { InteractionAction, View, Geometry } from '@antv/g2';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items:  tooltip \n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n","import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { adaptor, transformOptions, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    //  brush  meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      //  option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n","import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// Shape \nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    //  customInfo \n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n","import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n *  Shape : \n *  STEP, STEP_RATIO. : 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    //  customInfo \n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio : (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    //  gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { GaugeOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { INDICATEOR_VIEW_ID, RANGE_VIEW_ID, DEFAULT_OPTIONS } from './constants';\nimport { getIndicatorData, getRangeData } from './utils';\n\n//  shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\n\nexport type { GaugeOptions };\n\n/**\n * \n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'gauge';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   *  base \n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPecentage } from '../../utils/transform/percent';\nimport { AreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPecentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPecentage } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { ColumnOptions };\n\n/**\n * \n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPecentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPecentage } from '../../utils/transform/percent';\nimport { BarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { BarOptions };\n\n/**\n * \n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { xField, yField, isPercent } = options;\n    const switchedFieldOptions = { ...options, xField: yField, yField: xField };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPecentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n","import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n","import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getProgressData } from '../progress/utils';\nimport { RingProgressOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'ring-process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n",null,null,"var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n",null,null,null,null,"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","export * from './common';\nexport * from './tooltip';\nexport * from './state';\nexport * from './attr';\nexport * from './statistic';\nexport * from './meta';\nexport * from './axis';\nexport * from './interaction';\nexport * from './annotation';\nexport * from './locale';\nexport * from './button';\n\n/**  readonly  */\nexport type Writable<T> = { -readonly [P in keyof T]: T[P] };\n","import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport { tooltip, slider, interaction, animation, theme, annotation, limitInPlot, pattern } from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { Params } from '../../core/adaptor';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { getDataWhetherPecentage } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { meta, legend, axis } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPecentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: { color, style: areaStyle },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  //  2px ( state fill  stroke )\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      //  tooltip \n      // \n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label  false,   label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n  if (prev === 0) {\n    return '';\n  }\n  if (next === 0) {\n    return '-';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip } from '../../adaptor/common';\nimport { deepAssign, flow } from '../../utils';\nimport { Axis } from '../../types';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nexport { meta } from '../column/adaptor';\nimport { BarOptions } from './types';\n\n/**\n * \n * 1. switch xField yField\n * 2. switch xAxis yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      //  xAxisyAxis  deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    //  label layout  layout  position  layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  //  legend \n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  const { chart } = params;\n  // transpose column to bar  & y \n  chart.coordinate({ actions: [['transpose'], ['reflect', 'y']] });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow  G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n","import { isFunction, isString, isNil, get, isArray, isNumber, each, toString, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { legend, animation, theme, state, annotation } from '../../adaptor/common';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { getLocale } from '../../core/locale';\nimport { Interaction } from '../../types/interaction';\nimport { flow, template, transformLabel, deepAssign, renderStatistic, processIllegalData } from '../../utils';\nimport { Data, Datum } from '../../types';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle } = options;\n\n  // \n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    //  0  position \n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta  scale \n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label  false,   label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    //   label content \n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append pecent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefinedattributes  fields  scale\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \n * 1.  default options \n * 2.  meta  formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // \n            if (datum) {\n              return datum[colorField];\n            }\n            return !isNil(titleOpt.content) ? titleOpt.content : i18n.get(['statistic', 'total']);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \n  chart.getController('annotation').clear(true);\n\n  //  annotations\n  flow(annotation())(params);\n\n  /**   */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    //  all zero  all zero \n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction  ( interaction, \n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      //  start \n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow  G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /**   */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** ,  */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /**  */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /**  text-annotation  */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n","import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n","import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n","import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n","import { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { TinyLineOptions } from './types';\nimport { X_FIELD, Y_FIELD } from './constants';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n","import { theme, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n","import { clone, sortBy, valuesOfKey, getRange, each, hasKey, groupBy, isEmpty } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n//  range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n//  sturges \nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  //  binField \n  sortBy(originData_copy, binField);\n\n  //  binField  range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  //  binWidth binNumber  binWidth \n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  //  binWidth  binNumber  Sturges formula  binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  //  key - StatisticData \n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  //  stackField \n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  //  plotData \n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { findGeometry, deepAssign } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**  xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/**  yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n","import { get, isNil } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  /**   */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using PolakRibiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { HierarchyOption } from './types';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \n  sort: (a, b) => b.value - a.value,\n  // , treemapSquarify \n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue  true()  0 + 5 + 5 = 10\n       * ignoreParentValue  false   10 + 5 + 5 = 20\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","import { Geometry } from '@antv/g2';\nimport { isString } from '@antv/util';\nimport { interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { RANGE_TYPE, RANGE_VALUE, PERCENT, DEFAULT_COLOR, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  //  & \n  // \n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      //  shape \n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, //  innerRadius * radius =  radius\n    });\n\n    v1.axis(PERCENT, axis);\n    //  scale \n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  //  range\n  // [{ range: 1, type: '0', percent:  }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  //  shape \n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    //  content \n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n *  adaptor\n */\nexport { statistic };\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    // animation  createView  View \n    animation,\n    geometry,\n    meta,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ...  adaptor flow\n  )(params);\n}\n","import { clamp, get, size } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { RANGE_VALUE, RANGE_TYPE, PERCENT } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n *  range  data \n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      //  stack \n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n      //  0 \n      .filter((d: Datum) => !!d[RANGE_VALUE])\n  );\n}\n\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? ticks : [0, clamp(percent, 0, 1), 1];\n  return processRangeData(clampTicks as number[], percent);\n}\n","import { deepAssign } from '../utils';\nimport { Plot, PickOptions } from '../core/plot';\nimport { Adaptor } from '../core/adaptor';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /**  any plot */\n  public readonly type = 'g2-plot';\n\n  /**  defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /**  adaptor  */\n  private adaptor: Adaptor<O>;\n\n  /**\n   *  adaptor \n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { adaptor as tinyAreadaptor } from '../tiny-area/adaptor';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { Pie, PieOptions } from '../pie';\nimport { Bar, BarOptions } from '../bar';\nimport { Column, ColumnOptions } from '../column';\nimport { Area, AreaOptions } from '../area';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { Progress, ProgressOptions } from '../progress';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { Funnel, FunnelOptions } from '../funnel';\n\n/**\n *  options  widthheight \n */\ntype OmitSize<T> = Omit<T, 'width' | 'height'>;\n\n/**\n * multi-view  plots  options \n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \n       */\n      readonly type: 'line';\n      /**\n       * plot \n       */\n      readonly options: OmitSize<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: OmitSize<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: OmitSize<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: OmitSize<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: OmitSize<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: OmitSize<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: OmitSize<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: OmitSize<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: OmitSize<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: OmitSize<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: OmitSize<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: OmitSize<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: OmitSize<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: OmitSize<FunnelOptions>;\n    };\n\n/**\n *  multi-view  plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreadaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n};\n\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n};\n\n/**\n *  mix  facet defaultOptions \n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n","import { Mix } from './plots/mix';\n\n/**  */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n",null,null,null,"import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    //  w3c  0 \n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \n * https://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr:  blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n *  [r, g, b, a]\n * https://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); //  16 6  1\n\n  // [r, g, b, a] \n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n","const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n","import { nelderMead, bisect, conjugateGradient, zeros, zerosM, norm2, scale } from 'fmin';\nimport { intersectionArea, circleOverlap, circleCircleIntersection, distance } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n","import { nelderMead } from 'fmin';\nimport { intersectionArea, distance, getCenter } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * (x, y)  r  path\n * @param x  x\n * @param y  y\n * @param r \n * @returns  path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n","import { VennOptions } from './types';\n\n// \nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  //  \n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n","import { assign, memoize } from '@antv/util';\nimport { blend } from '../../utils/color/blend';\nimport { log, LEVEL } from '../../utils';\nimport { venn, scaleSolution } from './layout/layout';\nimport { intersectionAreaPath, computeTextCentres } from './layout/diagram';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n *  \n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /**   */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2.  crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    //  vennText \n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n *  \n * @param legalArr ['A', 'B']\n * @param testArr ['A', 'B', 'C'] or ['A', 'C'] 'C'\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { deepAssign } from '../../utils';\nimport { Datum, Point } from '../../types';\nimport { CustomInfo } from './types';\nimport { PATH_FIELD } from './constant';\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n","import { registerGeometryLabel, GeometryLabel } from '@antv/g2';\n\n// Step 1\n//  Label \n//  GeometryLabel \nclass VennLabel extends GeometryLabel {\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2:  CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n","import { View } from '@antv/g2';\n\n/** tofront:   */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n *  \n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n *  \n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ==================  aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ==================  ================== */\n\n// ========= Active  =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// =========   =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected  =========\n//  venn element \nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n//  venn element \nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// =========  =========\n// legend hoverelement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n","import { Geometry } from '@antv/g2';\nimport { isArray, get, deepMix, isEqual } from '@antv/util';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport {\n  deepAssign,\n  flow,\n  findGeometry,\n  transformLabel,\n  getAdjustAppendPadding,\n  normalPadding,\n  resolveAllPadding,\n} from '../../utils';\nimport { Datum } from '../../types';\nimport { log, LEVEL } from '../../utils';\nimport { getColorMap, layoutVennData, islegalSets } from './utils';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { ID_FIELD } from './constant';\nimport './shape';\nimport './label';\nimport './interactions';\n\n/**  */\nexport const LEGEND_SPACE = 40;\n\n/**\n *  color \n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n *  padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  //  legend .  40px,  appendPadding \n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /*     \n   * \n   * data = [\n   *   { sets: ['A'], size: 3 }, // \n   *   { sets: ['B'], size: 4 }, // \n   *   { sets: ['A', 'B'], size: 2 }, // \n   *   { sets: ['A', 'B', 'C'], size: 2 }, //  ( C)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    data = [];\n  }\n\n  // ['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  //  data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', ', ');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  //  legend .  40px,  appendPadding \n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox,  appendPadding  viewBBox\n  const { width, height } = chart.viewBBox;\n  // padding w  h \n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // , color .  datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \n  const [t, , , l] = normalPadding(chart.appendPadding);\n  //  label  \n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        //  G2  label \n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  //  \n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *  interaction \n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow  G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ...  adaptor flow\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { VennOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { VennOptions };\n\n/**\n *  \n */\nexport class Venn extends Plot<VennOptions> {\n  /**  */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n","export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n","import { justify } from './align';\nimport { constant, sumBy, maxValueBy, minValueBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    //  depth depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","import { assign, isString, isFunction } from '@antv/util';\nimport { Datum } from '../../types';\nimport { sankey, left, right, center, justify } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | Function;\n\n/**\n *  depth \n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n *  align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  layoutData.nodes.forEach((node) => {\n    const { x0, x1, y0, y1 } = node;\n    /* points\n     * 3---2\n     * |   |\n     * 0---1\n     */\n    node.x = [x0, x1, x1, x0];\n    node.y = [y0, y0, y1, y1];\n  });\n\n  layoutData.links.forEach((edge) => {\n    const { source, target } = edge;\n    const sx = source.x1;\n    const tx = target.x0;\n    edge.x = [sx, sx, tx, tx];\n    const offset = edge.width / 2;\n    edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n  });\n\n  return layoutData;\n}\n","import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n *  edges  node \n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n *  edges  dfs \n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n *  DFS \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \n  const removedData = [];\n\n  // \n  const nodes = getNodes(edges, sourceField, targetField);\n  // \n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited, 0,1, -1\n  const visited = {};\n  // visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \n  function DFS(dfsNode) {\n    // \n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        //  removeData\n        if (visited[node] == 1) {\n          // \n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \n          return;\n        } else {\n          DFS(node); // \n        }\n      }\n    });\n    //-1\n    visited[dfsNode] = -1;\n  }\n\n  //  dfs \n  nodes.forEach((node) => {\n    //\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  //  remove \n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n","import { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { Data } from '../../types';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { cutoffCircle } from './circle';\nimport { SankeyOptions } from './types';\n\n/**\n *  node-link \n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n *  layout view \n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n","export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n","import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\nimport { X_FIELD, Y_FIELD, COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n\n/**\n *  \n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState } = options;\n\n  // 1.  view \n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  //  Geometry \n  geometries.forEach((g) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow  G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ...  adaptor flow\n  )(params);\n}\n","import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \n   */\n  private isDragging = false;\n\n  /**\n   * \n   */\n  private prevPoint: Point;\n  /**\n   * \n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   *  element \n   */\n  private currentElementIdx: number;\n\n  /**\n   *  element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   *  index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    // \n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        //  [0, 1] \n\n        // 1.  node \n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2.  edge \n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1  node  source  [x0, x1, x2, x3]  x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2  node  target  [x0, x1, x2, x3]  x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \n        this.prevPoint = currentPoint;\n\n        // node edge  render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n","import { get } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { SankeyOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformToViewsData } from './helper';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n// \nimport './interactions';\n\nexport type { SankeyOptions };\n\n/**\n *   Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /**  */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // node  tooltipedge  tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { LineOptions } from '../line/types';\nimport { ColumnOptions } from '../column/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  // \n  readonly geometry?: string;\n  // label\n  readonly label?: Options['label'];\n  // legend\n  readonly legend?: Options['legend'];\n  // \n  readonly color?: Options['color'];\n  // \n  readonly isGroup?: boolean;\n  //  seriesField\n  readonly groupField?: string;\n};\n\n// ,  LineOption \nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * \n   */\n  readonly data: Array<Record<string, any>[]>;\n\n  /**\n   *  x x \n   */\n  readonly xField: string;\n  /**\n   *  y \n   */\n  readonly yField: string[];\n\n  /**\n   *  yAxis  object key  y \n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n\n  /**\n   * \n   */\n  readonly geometryOptions?: GeometryOption[];\n\n  /**\n   *  annotation , object  field \n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n","export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n","import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport {\n  DualAxesOptions,\n  GeometryOption,\n  DualAxesGeometry,\n  GeometryLineOption,\n  GeometryColumnOption,\n  AxisType,\n} from '../types';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\n\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n","import { reduce, get, isEmpty, isFunction } from '@antv/util';\nimport { View, Util } from '@antv/g2';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { Legend } from '../../../types/legend';\nimport { isLine } from './option';\n\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    //  g2 \n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n","import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n *  View  slider \n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  //  x \n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n","import { each, findIndex, get, find, isObject, every, isEqual, isBoolean } from '@antv/util';\nimport { Scale, Types, Event } from '@antv/g2';\nimport {\n  theme as commonTheme,\n  animation as commonAnimation,\n  scale,\n  interaction as commonInteraction,\n  annotation as commonAnnotation,\n  limitInPlot as commonLimitInPlot,\n} from '../../adaptor/common';\nimport { percent } from '../../utils/transform/percent';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { findViewById } from '../../utils/view';\nimport { isColumn, getYAxisWithDefault, getGeometryOption, transformObjectToArray } from './util/option';\nimport { getViewLegendItems } from './util/legend';\nimport { drawSingleGeometry } from './util/geometry';\nimport { doSliderFilter } from './util/render-sider';\nimport { DualAxesOptions, AxisType, DualAxesGeometry } from './types';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\n\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            //  cat \n            type: 'cat',\n            // x  scale \n            sync: true,\n            // \n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          //  crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n *    view theme \n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // id\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  //  view \n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // id\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /*  geometry  color\n   * 1.  geometryOptions  color drawGeometry \n   * 2.   color Geometry group scales theme color 10 \n   * 3.  group  view  N   concat  themeColor\n   * 4.  Geometry group scales color\n   * 5.  view  g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  //  View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  //  Y \n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip  getDefaultOption  undefined\n  chart.tooltip(tooltip);\n  //  view  tooltip shared  interaction active-region \n  // view  chart  shared\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   *  view  axisline chart  legend)\n   *  chart   view  theme G2 theme geometry > view > chart \n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry  view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \n          each(chart.views, (view) => {\n            // \n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  //  legend  unchecked \n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n *  slider \n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    //  View\n    leftView.option('slider', slider);\n    //  slider   View \n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions color legend  beforepaint\n  return flow(\n    transformOptions,\n    createViews,\n    // \n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { Params } from '../../../core/adaptor';\nimport { point, line } from '../../../adaptor/geometries';\nimport { pick, deepAssign } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isLine, isColumn } from './option';\n\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { DualAxesOptions } from './types';\nimport { adaptor } from './adaptor';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** :  */\n  public type: string = 'dual-axes';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { isNil, isFunction, assign } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \r\n  // \r\n  // \r\n  // \r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(canvas.getContext('2d')!.getImageData(0, 0, 1, 1).data.length >> 2);\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    //  width  height  0  cxt.getImageData \r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n","import { Chart } from '@antv/g2';\r\nimport { Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { log, LEVEL, getContainerSize } from '../../utils';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n *  DataSet \r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  //  text  value \r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    //  padding \r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // wordCloud \r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * [width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  //  DataSet \r\n  //  DataSet \r\n  //  DataSet \r\n  // \r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  //  0\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n *  padding  appendPadding  padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n *  imageMask  url \r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n *  fontSize  DataSet \r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      //  number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n *  DataSet \r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  //  1  0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n","import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**  color  */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n","import { isFunction, get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n *  legend \n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n","import { registerShape, Util, Types, IGroup, ShapeAttrs } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WordCloudOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { processImageMask, transform } from './utils';\n// shape\nimport './shapes/word-cloud';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      //  adaptor\n      // \n      this.execAdaptor();\n\n      // \n      // TODO: \n      window.setTimeout(() => {\n        // \n        super.triggerResize();\n      });\n    }\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n *  root \n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/**  */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \n  hierarchyConfig: {\n    //  value\n    field: 'value',\n  },\n\n  // \n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \n  drilldown: { enabled: true },\n});\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray, reduce, size } from '@antv/util';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  //  parentValue,  true \n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    //  \n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore  seriesField  hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n","import { isFunction, get, uniq } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  annotation,\n  scale,\n  pattern,\n  legend,\n} from '../../adaptor/common';\nimport { flow, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { Datum } from '../../types';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { transformData } from './utils';\nimport { SunburstOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [] } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  //  fillOpacity \n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // undefined \n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \n  if (drilldown?.enabled) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**   */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /**   */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /**  */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /**  */\n  public type: string = 'sunburst';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nimport { HierarchyOption } from './types';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n","import { Types } from '@antv/g2';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { deepAssign, pick } from '../../utils';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    //  depth <= 2  ()\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // : x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n *  padding     finalPadding  finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; //  [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  //  tempPadding coordinate minSize = circle-packing\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\n\n  //  padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \n\n  return { finalPadding, finalSize };\n}\n","import { CirclePackingOptions } from './types';\n\n/**  */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  //  name \n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: { enabled: false },\n};\n","import { get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  legend,\n  annotation,\n  scale,\n  pattern,\n} from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { transformData, resolvePaddingForCircle } from './utils';\nimport { CirclePackingOptions } from './types';\nimport { RAW_FIELDS } from './constant';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // autofitfalse\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  //  padding coordinate \n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // sizeField value  size \n  let circleSize = ({ r }) => r * finalSize; // \n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; //  r \n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        //  nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * , \n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport './interactions';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // padding\n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Types } from '@antv/g2';\nimport { isFunction, map, isNumber, maxBy, get } from '@antv/util';\nimport { Datum, Data } from '../../../types/common';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\n\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    const { conversionTag } = options;\n\n    const { data } = chart.getOptions();\n\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, findGeometry } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { maxSize } = options;\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [datumIndex - 0.5, percent],\n      end: [datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo   shape\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { conversionTag, isTransposed } = options;\n  // @ts-ignore\n  chart.once('beforepaint', () => {\n    chart.views.forEach((view, viewIndex) => {\n      const getLineCoordinate = (\n        datum: Datum,\n        datumIndex: number,\n        data: Data,\n        initLineOption: Record<string, any>\n      ): Types.LineOption => {\n        const ratio = viewIndex === 0 ? -1 : 1;\n        return deepAssign({}, initLineOption, {\n          start: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n          end: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n          text: isTransposed\n            ? {\n                style: {\n                  textAlign: 'start',\n                },\n              }\n            : {\n                offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n                style: {\n                  textAlign: viewIndex === 0 ? 'end' : 'start',\n                },\n              },\n        });\n      };\n\n      conversionTagComponent(getLineCoordinate)(\n        deepAssign(\n          {},\n          {\n            chart: view,\n            options,\n          }\n        )\n      );\n    });\n  });\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n","import { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n","import { map, reduce, maxBy, isArray, get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { flow } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Datum, Data } from '../../../types/common';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    //  xy  [, ]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { isFunction, clone } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, scale, annotation, tooltip } from '../../adaptor/common';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FunnelOptions } from './types';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { facetFunnel } from './geometries/facet';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\n\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n","import { get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle } = options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  const min = Math.min(...field);\n                  const max = Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // :  sizeField  sizeLegend.  legend \n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /**  sizeField */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \n * \n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  if (coordinate) {\n    chart.coordinate({\n      type: coordinate.type || 'rect',\n      cfg: coordinate.cfg,\n    });\n  }\n\n  if (reflect) {\n    chart.coordinate().reflect(reflect);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { HeatmapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'heatmap';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n","// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n","import { groupBy, min, max } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X */\n  x: string;\n\n  /**  size  */\n  violinSize: number[];\n  /**  y  */\n  violinY: number[];\n\n  // \n  /**  */\n  high: number;\n  /**  */\n  low: number;\n  /**  */\n  q1: number;\n  /**  */\n  q3: number;\n  /**  */\n  median: number[];\n\n  /**  */\n  minMax: number[];\n  /**  */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /**  */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  view  view padding \n  syncViewPadding: true,\n  // \n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n","import { Geometry } from '@antv/g2';\nimport { get, set, omit, each } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, theme, tooltip, annotation as baseAnnotation } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign, findViewById } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/**  */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/**  */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/**  */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  //  `box`  false \n  if (box === false) return params;\n\n  // \n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  //  view \n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  //  view \n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      //  x \n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  //  false \n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    //  fixme G2 \n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  each(chart.views, (view) => {\n    //  view \n    if (typeof animation === 'boolean') {\n      view.animate(animation);\n    } else {\n      view.animate(true);\n    }\n\n    each(view.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ViolinOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n","const CAT_VALUE = 'liquid';\n\n/**\n * \n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { interaction, animation, theme, scale, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, renderStatistic } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { LiquidOptions, CustomInfo } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius  columnWidthRatio \n      //   radius \n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    radius,\n    outline,\n    wave,\n    shape,\n    background,\n    animation,\n  };\n\n  //  radius  shape \n  geometry.customInfo(customInfo);\n\n  // \n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow  G2 API ()\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n","import { registerShape } from '@antv/g2';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { reduce, isNumber, mix } from '@antv/util';\nimport { transform } from '../../../utils/matrix';\nimport { Point, ShapeStyle } from '../../../types';\nimport { LiquidOptions, CustomInfo } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nfunction addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 0 : idx / (waveCount - 1);\n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas  canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { radius: radio, shape, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    //  minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    //   radius \n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n    const builtInShapeByName = {\n      pin,\n      circle,\n      diamond,\n      triangle,\n      rect,\n    };\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1. \n    const waves = container.addGroup({\n      name: 'waves',\n    });\n\n    // 3.  clip \n    const clipPath = waves.setClip({\n      type: 'path',\n      attrs: {\n        path: shapePath,\n      },\n    });\n\n    // 4. \n    addWaterWave(\n      center.x,\n      center.y,\n      1 - (cfg.points[1] as Point).y,\n      waveCount,\n      waveAttrs,\n      waves,\n      clipPath,\n      radius * 2,\n      waveLength,\n      animation\n    );\n\n    // 2.  distance  border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 3.  border  border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LiquidOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getLiquidData } from './utils';\n// register liquid shape\nimport './shapes/liquid';\n\nexport type { LiquidOptions };\n\n/**\n * \n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'liquid';\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n","export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n","import { isUndefined, isNumber, get, reduce, isObject } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n *   \n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n","import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum } from '../../types';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, state, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getLocale } from '../../core/locale';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { Y_FIELD, ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\nimport './shape';\n\n/**\n *  \n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, total, leaderLine, columnWidthRatio, waterfallStyle, risingFill, fallingFill, color } =\n    options;\n\n  // \n  chart.data(transformData(data, xField, yField, total));\n\n  //  colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        shape: 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  //  waterfall leaderLineCfg  shape \n  geometry.customInfo({ leaderLine });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip  y \n      fields: [yField],\n      ...tooltip,\n    });\n    //  yField  tooltip \n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { Point } from '../../types';\n\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    //  \n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    //  \n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WaterfallOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n","import { isArray, get } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // , treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    //  depth === 1 \n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path (x, y), ( depth)\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // data.path) \n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n","import { get } from '@antv/util';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { Params } from '../../core/adaptor';\nimport { interaction as commonInteraction, animation, theme, legend, annotation, tooltip } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { transformData, findInteraction, enableDrillInteraction } from './utils';\nimport { TreemapOptions } from './types';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          //   API\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  //  view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    //  interaction \n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      //  viewZoomInteraction \n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","export const DEFAULT_OPTIONS = {\n  //  name \n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TreemapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData, enableInteraction, resetDrillDown } from './utils';\nimport './interactions';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, annotation, legend } from '../../adaptor/common';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  //   geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  //  Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  //  point.state,  state \n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n","import { registerComponentController, Util, TooltipController, Action } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n *  tooltip  action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /**  */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \n  interactions: [{ type: 'active-region' }],\n\n  //  tooltips  markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n","import { isArray } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { BoxOptions } from './types';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { transformData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        //  label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n *  view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, interaction, animation, theme)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BoxOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip  */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    //  crosshairs textBackground \n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n","import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data, yField) {\n  return map(data, (obj) => {\n    if (isArray(yField)) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, annotation, slider } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\n\nimport { Y_FIELD, TREND_FIELD, TREND_UP, TREND_DOWN } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow  G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StockOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { getStockData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'stock';\n\n  /**\n   * \n   *  g2/g2plot    -->         -->          -->      \n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n","import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n/**\n * bullet \n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    //  title * range\n    item[rangeField].sort((a: number, b: number) => a - b);\n    item[rangeField].forEach((d: number, i: number) => {\n      const range = i === 0 ? d : item[rangeField][i] - item[rangeField][i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // xField\n        [rangeField]: range,\n      });\n    });\n    //  title * measure\n    item[measureField].forEach((d: number, i: number) => {\n      ds.push({\n        mKey: item[measureField].length > 1 ? `${measureField}_${i}` : `${measureField}`, // \n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n    //  title * target\n    ds.push({\n      tKey: `${targetField}`,\n      [xField]: xField ? item[xField] : String(index),\n      [targetField]: item[targetField],\n    });\n    // \n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min  0  0 \n  min = min > 0 ? 0 : min;\n\n  // \n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n","import { get, isFunction } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { Datum } from '../../types';\nimport { interval, point } from '../../adaptor/geometries';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  //  tooltip \n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      //  meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO  legend\n  chart.legend(legend);\n\n  //  color  legend, legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \n    showMarkers: false,\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BulletOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n","import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n","import { interaction, animation, theme, scale, tooltip, legend, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, findGeometry, transformLabel } from '../../utils';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { processIllegalData } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data } = options;\n\n  // \n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: type === 'line' ? 'line' : 'intervel',\n      },\n      // \n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label  false,   label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadialBarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RadialBarOptions };\n\n/**\n * \n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    //  scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n","export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n","import { groupBy } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  //  layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position top  v1  0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n     * + 5  \n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 left  left \n     * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5  \n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // position  top \n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  interaction as commonInteraction,\n  animation as commonAnimation,\n  theme as commonTheme,\n  limitInPlot as commonLimitInPlot,\n  scale,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, findViewById, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  //  view  legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  //  view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @: ( transform )\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  //  view axis ;  bottom  label\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme  label: null  tickLine \n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  //  false  firstView \n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      //  firstView \n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  syncViewPadding\n   *  TODO  g2 View  setter \n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label  (1.  offset  2. leftView  *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ----  ---- */\n    // \n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label  ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      //  textAlign \n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as Function).apply(this, args)];\n      }\n      //  textBaseline \n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign, findViewById } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { syncViewPadding, transformData, isHorizontal } from './utils';\nimport { SERIES_FIELD_KEY, FIRST_AXES_VIEW, SECOND_AXES_VIEW } from './constant';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /**  */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /**  */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // viewdata\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // (0, 1)\n  nodePaddingRatio?: number; // [0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        labelEmit: true,\n        style: {\n          fill: '#8c8c8c',\n        },\n        offsetX,\n        content: name,\n      };\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // node  tooltip ()edge  tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { interaction, theme, state } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, pick } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { getAllGeometriesRecursively, transformDataToNodeLinkData } from '../../utils';\nimport { ChordOptions } from './types';\nimport { X_FIELD, Y_FIELD, NODE_COLOR_FIELD, EDGE_COLOR_FIELD } from './constant';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // extnodeGeometry edgeGeometry\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // node link\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. node\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2.  edge  \n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // chordDataextgeometry\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\n * @param params \n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\n * @param params \n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\n * @param params \n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(getAllGeometriesRecursively(chart), (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *   Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n","import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, flow, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore  tooltip\n        if (plotOptions.tooltip) {\n          //  tooltip \n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \n  chart.coordinate(coordinate);\n\n  // 5. axis  ()\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \n  chart.legend(legend);\n\n  // theme \n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow  G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n","import { Geometry, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { IView } from './types';\n\n/**\n *\n * @param params  \n * @returns facet eachView  view \n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate  ()\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis  ( false )\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation ()\n  if (typeof animation === 'boolean') {\n    viewOfG2.animate(false);\n  } else {\n    viewOfG2.animate(true);\n    //  Geometry todo \n    each(viewOfG2.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  }\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n","/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n","import { IElement, IGroup } from '@antv/g-base';\nimport { Util, Element, Action } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n *   action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n","import { View, Action, Util, Types } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie  Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \n      view.getController('annotation').clear(true);\n      //  annotations\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    //  shape \n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n","import { Element } from '@antv/g2';\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n",null,null,null,null,null,null,null,null,null,"import { filter, isObject, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, findGeometry, log, LEVEL, transformLabel, deepAssign } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, color } = options;\n\n  // \n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label  false  label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    //  label  shape  'limit-in-shape' \n    //  label \n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  falsy \n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow  G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RoseOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action  Button \n *\n * brush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override  G2 Button Action,  GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   *  mix \n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   *  Button  \n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \n\n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2  brushbrush-xbrush-y \n *\n * 1. element-range-highlight  brush-highlight(mask )\n * 2. brush-visible  brush \n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n *   start \n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, mask?: BrushCfg['mask']) {\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \nregisterInteraction('brush', getInteractionCfg('brush'));\n//  element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// , x \nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// , y \nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n","import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { deepAssign } from '../utils';\nimport { Options as BaseOptions, BrushCfg, Interaction, Writable } from '../types';\n\n/** brush  */\nimport '../interactions/brush';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  //  brush \n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  //  brush \n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush.mask?.style || brush.type) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush.mask);\n      }\n      interactions.push(obj);\n    });\n\n    //  button  (G2Plot )\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n","import {\n  regressionLinear,\n  regressionExp,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { isArray, get, isNumber } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \n  const textOffset = 10;\n  // \n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm } = regressionLine;\n  let pathData: Array<[number, number]>;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n  }\n  return splinePath(pathData, config);\n};\n\n/**\n *  meta: { min, max }  data.length === 1   y    x \n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   *  min max scale \n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n","import { isNumber } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, pick } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { interaction, animation, theme, scale, annotation, slider, scrollbar } from '../../adaptor/common';\nimport { findGeometry, transformLabel } from '../../utils';\nimport { getQuadrantDefaultConfig, getPath, getMeta } from './util';\nimport { ScatterOptions } from './types';\n\n/**\n * \n *  data.length === 1   y    x \n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      //  oneValue\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  //  shapeLegend,  legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /**  shape  shapeLegend  undefined  */\n  /**  sizeField */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label  false,   label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, top = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const path = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    //  interaction \n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n",null,null,null,null,null,null,"import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n","import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \n  general: {\n    increase: '',\n    decrease: '',\n    root: '',\n  },\n\n  // \n  /**  */\n  statistic: {\n    total: '',\n  },\n  /**  */\n  conversionTag: {\n    label: '',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \n  waterfall: {\n    total: '',\n  },\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n *  sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); //  resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.d3 = {}));\n}(this, (function (exports) { 'use strict';\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  // Adapted from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\n  function points(data, x, y, sort) {\n    data = data.filter(function (d, i) {\n      var u = x(d, i),\n          v = y(d, i);\n      return u != null && isFinite(u) && v != null && isFinite(v);\n    });\n\n    if (sort) {\n      data.sort(function (a, b) {\n        return x(a) - x(b);\n      });\n    }\n\n    var n = data.length,\n        X = new Float64Array(n),\n        Y = new Float64Array(n); // extract values, calculate means\n\n    var ux = 0,\n        uy = 0,\n        xv,\n        yv,\n        d;\n\n    for (var i = 0; i < n;) {\n      d = data[i];\n      X[i] = xv = +x(d, i, data);\n      Y[i] = yv = +y(d, i, data);\n      ++i;\n      ux += (xv - ux) / i;\n      uy += (yv - uy) / i;\n    } // mean center the data\n\n\n    for (var _i = 0; _i < n; ++_i) {\n      X[_i] -= ux;\n      Y[_i] -= uy;\n    }\n\n    return [X, Y, ux, uy];\n  }\n  function visitPoints(data, x, y, cb) {\n    var iterations = 0;\n\n    for (var i = 0, n = data.length; i < n; i++) {\n      var d = data[i],\n          dx = +x(d, i, data),\n          dy = +y(d, i, data);\n\n      if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n        cb(dx, dy, iterations++);\n      }\n    }\n  }\n\n  // return the coefficient of determination, or R squared.\n\n  function determination(data, x, y, uY, predict) {\n    var SSE = 0,\n        SST = 0;\n    visitPoints(data, x, y, function (dx, dy) {\n      var sse = dy - predict(dx),\n          sst = dy - uY;\n      SSE += sse * sse;\n      SST += sst * sst;\n    });\n    return 1 - SSE / SST;\n  }\n\n  // Returns the angle of a line in degrees.\n  function angle(line) {\n    return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n  } // Returns the midpoint of a line.\n\n  function midpoint(line) {\n    return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n  }\n\n  // returns a smooth line.\n\n  function interpose(xmin, xmax, predict) {\n    var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n    var precision = 1 * Math.pow(10, -l / 2 - 1),\n        maxIter = 1e4;\n    var points = [px(xmin), px(xmax)],\n        iter = 0;\n\n    while (find(points) && iter < maxIter) {\n    }\n\n    return points;\n\n    function px(x) {\n      return [x, predict(x)];\n    }\n\n    function find(points) {\n      iter++;\n      var n = points.length;\n      var found = false;\n\n      for (var i = 0; i < n - 1; i++) {\n        var p0 = points[i],\n            p1 = points[i + 1],\n            m = midpoint([p0, p1]),\n            mp = px(m[0]),\n            a0 = angle([p0, m]),\n            a1 = angle([p0, mp]),\n            a = Math.abs(a0 - a1);\n\n        if (a > precision) {\n          points.splice(i + 1, 0, mp);\n          found = true;\n        }\n      }\n\n      return found;\n    }\n  }\n\n  // Ordinary Least Squares from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\n  function ols(uX, uY, uXY, uX2) {\n    var delta = uX2 - uX * uX,\n        slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n        intercept = uY - slope * uX;\n    return [intercept, slope];\n  }\n\n  function exponential () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function exponential(data) {\n      var n = 0,\n          Y = 0,\n          YL = 0,\n          XY = 0,\n          XYL = 0,\n          X2Y = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var ly = Math.log(dy),\n            xy = dx * dy;\n        ++n;\n        Y += (dy - Y) / n;\n        XY += (xy - XY) / n;\n        X2Y += (dx * xy - X2Y) / n;\n        YL += (dy * ly - YL) / n;\n        XYL += (xy * ly - XYL) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.exp(b * x);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    exponential.domain = function (arr) {\n      return arguments.length ? (domain = arr, exponential) : domain;\n    };\n\n    exponential.x = function (fn) {\n      return arguments.length ? (x = fn, exponential) : x;\n    };\n\n    exponential.y = function (fn) {\n      return arguments.length ? (y = fn, exponential) : y;\n    };\n\n    return exponential;\n  }\n\n  function linear () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function linear(data) {\n      var n = 0,\n          X = 0,\n          // sum of x\n      Y = 0,\n          // sum of y\n      XY = 0,\n          // sum of x * y\n      X2 = 0,\n          // sum of x * x\n      xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n;\n        X += (dx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (dx * dy - XY) / n;\n        X2 += (dx * dx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * x + intercept;\n      },\n          out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    linear.domain = function (arr) {\n      return arguments.length ? (domain = arr, linear) : domain;\n    };\n\n    linear.x = function (fn) {\n      return arguments.length ? (x = fn, linear) : x;\n    };\n\n    linear.y = function (fn) {\n      return arguments.length ? (y = fn, linear) : y;\n    };\n\n    return linear;\n  }\n\n  // Returns the medium value of an array of numbers.\n  function median(arr) {\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    var i = arr.length / 2;\n    return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n  }\n\n  var maxiters = 2,\n      epsilon = 1e-12;\n  function loess () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        bandwidth = .3;\n\n    function loess(data) {\n      var _points = points(data, x, y, true),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          bw = Math.max(2, ~~(bandwidth * n)),\n          yhat = new Float64Array(n),\n          residuals = new Float64Array(n),\n          robustWeights = new Float64Array(n).fill(1);\n\n      for (var iter = -1; ++iter <= maxiters;) {\n        var interval = [0, bw - 1];\n\n        for (var i = 0; i < n; ++i) {\n          var dx = xv[i],\n              i0 = interval[0],\n              i1 = interval[1],\n              edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n          var W = 0,\n              X = 0,\n              Y = 0,\n              XY = 0,\n              X2 = 0,\n              denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n          for (var k = i0; k <= i1; ++k) {\n            var xk = xv[k],\n                yk = yv[k],\n                w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n                xkw = xk * w;\n            W += w;\n            X += xkw;\n            Y += yk * w;\n            XY += yk * xkw;\n            X2 += xk * xkw;\n          } // Linear regression fit\n\n\n          var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n              _ols2 = _slicedToArray(_ols, 2),\n              a = _ols2[0],\n              b = _ols2[1];\n\n          yhat[i] = a + b * dx;\n          residuals[i] = Math.abs(yv[i] - yhat[i]);\n          updateInterval(xv, i + 1, interval);\n        }\n\n        if (iter === maxiters) {\n          break;\n        }\n\n        var medianResidual = median(residuals);\n        if (Math.abs(medianResidual) < epsilon) break;\n\n        for (var _i = 0, arg, _w; _i < n; ++_i) {\n          arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n          // Keeping weights tiny but non-zero prevents singularites\n\n          robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n        }\n      }\n\n      return output(xv, yhat, ux, uy);\n    }\n\n    loess.bandwidth = function (bw) {\n      return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n    };\n\n    loess.x = function (fn) {\n      return arguments.length ? (x = fn, loess) : x;\n    };\n\n    loess.y = function (fn) {\n      return arguments.length ? (y = fn, loess) : y;\n    };\n\n    return loess;\n  } // Weighting kernel for local regression\n\n  function tricube(x) {\n    return (x = 1 - x * x * x) * x * x;\n  } // Advance sliding window interval of nearest neighbors\n\n\n  function updateInterval(xv, i, interval) {\n    var val = xv[i],\n        left = interval[0],\n        right = interval[1] + 1;\n    if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n    // Step when distance is equal to ensure movement over duplicate x values\n\n    while (i > left && xv[right] - val <= val - xv[left]) {\n      interval[0] = ++left;\n      interval[1] = right;\n      ++right;\n    }\n  } // Generate smoothed output points\n  // Average points with repeated x values\n\n\n  function output(xv, yhat, ux, uy) {\n    var n = xv.length,\n        out = [];\n    var i = 0,\n        cnt = 0,\n        prev = [],\n        v;\n\n    for (; i < n; ++i) {\n      v = xv[i] + ux;\n\n      if (prev[0] === v) {\n        // Average output values via online update\n        prev[1] += (yhat[i] - prev[1]) / ++cnt;\n      } else {\n        // Add new output point\n        cnt = 0;\n        prev[1] += uy;\n        prev = [v, yhat[i]];\n        out.push(prev);\n      }\n    }\n\n    prev[1] += uy;\n    return out;\n  }\n\n  function logarithmic () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        base = Math.E,\n        domain;\n\n    function logarithmic(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity,\n          lb = Math.log(base);\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx) / lb;\n        ++n;\n        X += (lx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (lx * dy - XY) / n;\n        X2 += (lx * lx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * Math.log(x) / lb + intercept;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    logarithmic.domain = function (arr) {\n      return arguments.length ? (domain = arr, logarithmic) : domain;\n    };\n\n    logarithmic.x = function (fn) {\n      return arguments.length ? (x = fn, logarithmic) : x;\n    };\n\n    logarithmic.y = function (fn) {\n      return arguments.length ? (y = fn, logarithmic) : y;\n    };\n\n    logarithmic.base = function (n) {\n      return arguments.length ? (base = n, logarithmic) : base;\n    };\n\n    return logarithmic;\n  }\n\n  function quad () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function quadratic(data) {\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length;\n\n      var X2 = 0,\n          X3 = 0,\n          X4 = 0,\n          XY = 0,\n          X2Y = 0,\n          i,\n          dx,\n          dy,\n          x2;\n\n      for (i = 0; i < n;) {\n        dx = xv[i];\n        dy = yv[i++];\n        x2 = dx * dx;\n        X2 += (x2 - X2) / i;\n        X3 += (x2 * dx - X3) / i;\n        X4 += (x2 * x2 - X4) / i;\n        XY += (dx * dy - XY) / i;\n        X2Y += (x2 * dy - X2Y) / i;\n      }\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        n0++;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var X2X2 = X4 - X2 * X2,\n          d = X2 * X2X2 - X3 * X3,\n          a = (X2Y * X2 - XY * X3) / d,\n          b = (XY * X2X2 - X2Y * X3) / d,\n          c = -a * X2,\n          fn = function fn(x) {\n        x = x - ux;\n        return a * x * x + b * x + c + uy;\n      };\n\n      var out = interpose(xmin, xmax, fn);\n      out.a = a;\n      out.b = b - 2 * a * ux;\n      out.c = c - b * ux + a * ux * ux + uy;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    quadratic.domain = function (arr) {\n      return arguments.length ? (domain = arr, quadratic) : domain;\n    };\n\n    quadratic.x = function (fn) {\n      return arguments.length ? (x = fn, quadratic) : x;\n    };\n\n    quadratic.y = function (fn) {\n      return arguments.length ? (y = fn, quadratic) : y;\n    };\n\n    return quadratic;\n  }\n\n  // Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n  // License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n  // ...with ideas from vega-statistics by Jeffrey Heer\n  // Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\n  function polynomial () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        order = 3,\n        domain;\n\n    function polynomial(data) {\n      // Use more efficient methods for lower orders\n      if (order === 1) {\n        var o = linear().x(x).y(y).domain(domain)(data);\n        o.coefficients = [o.b, o.a];\n        delete o.a;\n        delete o.b;\n        return o;\n      }\n\n      if (order === 2) {\n        var _o = quad().x(x).y(y).domain(domain)(data);\n\n        _o.coefficients = [_o.c, _o.b, _o.a];\n        delete _o.a;\n        delete _o.b;\n        delete _o.c;\n        return _o;\n      }\n\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          lhs = [],\n          rhs = [],\n          k = order + 1;\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n0;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n      var i, j, l, v, c;\n\n      for (i = 0; i < k; ++i) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i) * yv[l];\n        }\n\n        lhs.push(v);\n        c = new Float64Array(k);\n\n        for (j = 0; j < k; ++j) {\n          for (l = 0, v = 0; l < n; ++l) {\n            v += Math.pow(xv[l], i + j);\n          }\n\n          c[j] = v;\n        }\n\n        rhs.push(c);\n      }\n\n      rhs.push(lhs);\n\n      var coef = gaussianElimination(rhs),\n          fn = function fn(x) {\n        x -= ux;\n        var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n        for (i = 3; i < k; ++i) {\n          y += coef[i] * Math.pow(x, i);\n        }\n\n        return y;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.coefficients = uncenter(k, coef, -ux, uy);\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    polynomial.domain = function (arr) {\n      return arguments.length ? (domain = arr, polynomial) : domain;\n    };\n\n    polynomial.x = function (fn) {\n      return arguments.length ? (x = fn, polynomial) : x;\n    };\n\n    polynomial.y = function (fn) {\n      return arguments.length ? (y = fn, polynomial) : y;\n    };\n\n    polynomial.order = function (n) {\n      return arguments.length ? (order = n, polynomial) : order;\n    };\n\n    return polynomial;\n  }\n\n  function uncenter(k, a, x, y) {\n    var z = Array(k);\n    var i, j, v, c; // initialize to zero\n\n    for (i = 0; i < k; ++i) {\n      z[i] = 0;\n    } // polynomial expansion\n\n\n    for (i = k - 1; i >= 0; --i) {\n      v = a[i];\n      c = 1;\n      z[i] += v;\n\n      for (j = 1; j <= i; ++j) {\n        c *= (i + 1 - j) / j; // binomial coefficent\n\n        z[i - j] += v * Math.pow(x, j) * c;\n      }\n    } // bias term\n\n\n    z[0] += y;\n    return z;\n  } // Given an array for a two-dimensional matrix and the polynomial order,\n  // solve A * x = b using Gaussian elimination.\n\n\n  function gaussianElimination(matrix) {\n    var n = matrix.length - 1,\n        coef = [];\n    var i, j, k, r, t;\n\n    for (i = 0; i < n; ++i) {\n      r = i; // max row\n\n      for (j = i + 1; j < n; ++j) {\n        if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n          r = j;\n        }\n      }\n\n      for (k = i; k < n + 1; ++k) {\n        t = matrix[k][i];\n        matrix[k][i] = matrix[k][r];\n        matrix[k][r] = t;\n      }\n\n      for (j = i + 1; j < n; ++j) {\n        for (k = n; k >= i; k--) {\n          matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n        }\n      }\n    }\n\n    for (j = n - 1; j >= 0; --j) {\n      t = 0;\n\n      for (k = j + 1; k < n; ++k) {\n        t += matrix[k][j] * coef[k];\n      }\n\n      coef[j] = (matrix[n][j] - t) / matrix[j][j];\n    }\n\n    return coef;\n  }\n\n  function power () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function power(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          YS = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx),\n            ly = Math.log(dy);\n        ++n;\n        X += (lx - X) / n;\n        Y += (ly - Y) / n;\n        XY += (lx * ly - XY) / n;\n        X2 += (lx * lx - X2) / n;\n        YS += (dy - YS) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.pow(x, b);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, YS, fn);\n      return out;\n    }\n\n    power.domain = function (arr) {\n      return arguments.length ? (domain = arr, power) : domain;\n    };\n\n    power.x = function (fn) {\n      return arguments.length ? (x = fn, power) : x;\n    };\n\n    power.y = function (fn) {\n      return arguments.length ? (y = fn, power) : y;\n    };\n\n    return power;\n  }\n\n  exports.regressionExp = exponential;\n  exports.regressionLinear = linear;\n  exports.regressionLoess = loess;\n  exports.regressionLog = logarithmic;\n  exports.regressionPoly = polynomial;\n  exports.regressionPow = power;\n  exports.regressionQuad = quad;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","// @ts-ignore\nimport ReactDOM from 'react-dom';\nvar createNode = function (children, type) {\n    var mountPoint = document.createElement('div');\n    if (type === 'tooltip') {\n        mountPoint.className = 'g2-tooltip';\n    }\n    ReactDOM.render(children, mountPoint);\n    return mountPoint;\n};\nexport default createNode;\n","/* eslint-disable no-restricted-syntax */\n// \nexport var isType = function (value, type) {\n    var toString = {}.toString;\n    return toString.call(value) === \"[object \".concat(type, \"]\");\n};\nexport var clone = function (source) {\n    if (!source) {\n        return source;\n    }\n    var target = {};\n    // eslint-disable-next-line guard-for-in\n    for (var k in source) {\n        target[k] = source[k];\n    }\n    return target;\n};\nexport var getType = function (n) {\n    return Object.prototype.toString.call(n).slice(8, -1);\n};\n/**\n * \n * @param source \n */\nexport var deepClone = function (source) {\n    if (!source || typeof source !== 'object') {\n        return source;\n    }\n    var target;\n    if (Array.isArray(source)) {\n        target = source.map(function (item) { return deepClone(item); });\n    }\n    else {\n        target = {};\n        Object.keys(source).forEach(function (key) {\n            return (target[key] = deepClone(source[key]));\n        });\n    }\n    return target;\n};\n/**\n *  undefined\n */\nexport var hasPath = function (source, path) {\n    var current = source;\n    for (var i = 0; i < path.length; i += 1) {\n        if (current === null || current === void 0 ? void 0 : current[path[i]]) {\n            current = current[path[i]];\n        }\n        else {\n            current = undefined;\n            break;\n        }\n    }\n    return current;\n};\n/**\n *  params \n */\nexport var setPath = function (source, path, value) {\n    if (!source) {\n        return source;\n    }\n    var o = source;\n    path.forEach(function (key, idx) {\n        // \n        if (idx < path.length - 1) {\n            o = o[key];\n        }\n        else {\n            o[key] = value;\n        }\n    });\n    return source;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useRef, useEffect } from 'react';\nimport { isEqual, get } from '@antv/util';\nimport createNode from '../util/createNode';\nimport { hasPath, isType, deepClone, clone, setPath } from '../util';\nexport default function useInit(ChartClass, config) {\n    var chart = useRef();\n    var chartOptions = useRef();\n    var container = useRef(null);\n    var onReady = config.onReady, onEvent = config.onEvent;\n    /**\n     * Get data base64\n     * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n     * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n     */\n    var toDataURL = function (type, encoderOptions) {\n        var _a;\n        if (type === void 0) { type = 'image/png'; }\n        return (_a = chart.current) === null || _a === void 0 ? void 0 : _a.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n    };\n    /**\n     * Download Iamge\n     * @param {string} name A name of image\n     * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n     * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n     */\n    var downloadImage = function (name, type, encoderOptions) {\n        var _a;\n        if (name === void 0) { name = 'download'; }\n        if (type === void 0) { type = 'image/png'; }\n        var imageName = name;\n        if (name.indexOf('.') === -1) {\n            imageName = \"\".concat(name, \".\").concat(type.split('/')[1]);\n        }\n        var base64 = (_a = chart.current) === null || _a === void 0 ? void 0 : _a.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n        var a = document.createElement('a');\n        a.href = base64;\n        a.download = imageName;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        a = null;\n        return imageName;\n    };\n    var reactDomToString = function (source, path, type) {\n        var statisticCustomHtml = hasPath(source, path);\n        setPath(source, path, function () {\n            var arg = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                arg[_i] = arguments[_i];\n            }\n            var statisticDom = isType(statisticCustomHtml, 'Function') ? statisticCustomHtml.apply(void 0, arg) : statisticCustomHtml;\n            if (isType(statisticDom, 'String') || isType(statisticDom, 'Number') || isType(statisticDom, 'HTMLDivElement')) {\n                return statisticDom;\n            }\n            return createNode(statisticDom, type);\n        });\n    };\n    var processConfig = function () {\n        // statistic\n        if (hasPath(config, ['statistic', 'content', 'customHtml'])) {\n            reactDomToString(config, ['statistic', 'content', 'customHtml']);\n        }\n        if (hasPath(config, ['statistic', 'title', 'customHtml'])) {\n            reactDomToString(config, ['statistic', 'title', 'customHtml']);\n        }\n        // tooltip\n        if (typeof config.tooltip === 'object') {\n            if (hasPath(config, ['tooltip', 'container'])) {\n                reactDomToString(config, ['tooltip', 'container'], 'tooltip');\n            }\n            if (hasPath(config, ['tooltip', 'customContent'])) {\n                reactDomToString(config, ['tooltip', 'customContent'], 'tooltip');\n            }\n        }\n    };\n    useEffect(function () {\n        if (chart.current && !isEqual(chartOptions.current, config)) {\n            var changeData = false;\n            if (chartOptions.current) {\n                //  options  data value  percent \n                var _a = chartOptions.current, currentData = _a.data, currentValue = _a.value, currentPercent = _a.percent, currentConfig = __rest(_a, [\"data\", \"value\", \"percent\"]);\n                var inputData = config.data, inputValue = config.value, inputPercent = config.percent, inputConfig = __rest(config, [\"data\", \"value\", \"percent\"]);\n                changeData = isEqual(currentConfig, inputConfig);\n            }\n            chartOptions.current = deepClone(config);\n            if (changeData && get(config, 'chartType') !== 'Mix') {\n                var changeType_1 = 'data';\n                var typeMaps = ['percent']; //  data  RingProgress\n                var currentKeys_1 = Object.keys(config);\n                typeMaps.forEach(function (type) {\n                    if (currentKeys_1.includes(type)) {\n                        changeType_1 = type;\n                    }\n                });\n                chart.current.changeData((config === null || config === void 0 ? void 0 : config[changeType_1]) || []);\n            }\n            else {\n                processConfig();\n                chart.current.update(config);\n            }\n        }\n    }, [config]);\n    useEffect(function () {\n        if (!container.current) {\n            return function () { return null; };\n        }\n        if (!chartOptions.current) {\n            chartOptions.current = deepClone(config);\n        }\n        processConfig();\n        var chartInstance = new ChartClass(container.current, __assign({}, config));\n        chartInstance.toDataURL = function (type, encoderOptions) {\n            return toDataURL(type, encoderOptions);\n        };\n        chartInstance.downloadImage = function (name, type, encoderOptions) {\n            return downloadImage(name, type, encoderOptions);\n        };\n        chartInstance.render();\n        chart.current = clone(chartInstance);\n        if (onReady) {\n            onReady(chartInstance);\n        }\n        var handler = function (event) {\n            if (onEvent) {\n                onEvent(chartInstance, event);\n            }\n        };\n        chartInstance.on('*', handler);\n        // \n        return function () {\n            if (chart.current) {\n                chart.current.destroy();\n                chart.current.off('*', handler);\n                chart.current = undefined;\n            }\n        };\n    }, []);\n    return {\n        chart: chart,\n        container: container,\n    };\n}\n","import { isFunction } from '@antv/util';\n/**\n * \n */\nexport var getChart = function (chartRef, chart) {\n    if (!chartRef) {\n        return;\n    }\n    if (isFunction(chartRef)) {\n        chartRef(chart);\n    }\n    else {\n        chartRef.current = chart;\n    }\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React, { Fragment } from 'react';\nvar ErrorBoundary = /** @class */ (function (_super) {\n    __extends(ErrorBoundary, _super);\n    function ErrorBoundary() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            hasError: false,\n        };\n        _this.renderError = function (e) {\n            var errorTemplate = _this.props.errorTemplate;\n            switch (e) {\n                default:\n                    // fallback\n                    return errorTemplate && typeof errorTemplate === 'function' ? (errorTemplate(e)) : (React.createElement(\"h5\", null,\n                        \"\\u7EC4\\u4EF6\\u51FA\\u9519\\u4E86\\uFF0C\\u8BF7\\u6838\\u67E5\\u540E\\u91CD\\u8BD5\\uFF1A \",\n                        e.message));\n            }\n        };\n        return _this;\n    }\n    ErrorBoundary.getDerivedStateFromError = function (error) {\n        return { hasError: true, error: error };\n    };\n    ErrorBoundary.getDerivedStateFromProps = function (nextProps, state) {\n        if (state.children !== nextProps.children) {\n            return {\n                children: nextProps.children,\n                hasError: false,\n                error: undefined,\n            };\n        }\n        return null;\n    };\n    ErrorBoundary.prototype.render = function () {\n        if (this.state.hasError) {\n            return this.renderError(this.state.error);\n        }\n        return React.createElement(Fragment, null, this.props.children);\n    };\n    return ErrorBoundary;\n}(React.Component));\nexport default ErrorBoundary;\n","export default (): string =>\n  Math.random()\n    .toString(36)\n    .substring(6)\n","import * as React from 'react'\n\nimport uid from '../shared/uid'\nimport { IContentLoaderProps } from './'\n\nconst SVG: React.FC<IContentLoaderProps> = ({\n  animate,\n  backgroundColor,\n  backgroundOpacity,\n  baseUrl,\n  children,\n  foregroundColor,\n  foregroundOpacity,\n  gradientRatio,\n  uniqueKey,\n  interval,\n  rtl,\n  speed,\n  style,\n  title,\n  ...props\n}) => {\n  const fixedId = uniqueKey || uid()\n  const idClip = `${fixedId}-diff`\n  const idGradient = `${fixedId}-animated-diff`\n  const idAria = `${fixedId}-aria`\n\n  const rtlStyle = rtl ? { transform: 'scaleX(-1)' } : null\n  const keyTimes = `0; ${interval}; 1`\n  const dur = `${speed}s`\n\n  return (\n    <svg\n      aria-labelledby={idAria}\n      role=\"img\"\n      style={{ ...style, ...rtlStyle }}\n      {...props}\n    >\n      {title ? <title id={idAria}>{title}</title> : null}\n      <rect\n        role=\"presentation\"\n        x=\"0\"\n        y=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        clipPath={`url(${baseUrl}#${idClip})`}\n        style={{ fill: `url(${baseUrl}#${idGradient})` }}\n      />\n\n      <defs role=\"presentation\">\n        <clipPath id={idClip}>{children}</clipPath>\n\n        <linearGradient id={idGradient}>\n          <stop\n            offset=\"0%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio}; ${-gradientRatio}; 1`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"50%\"\n            stopColor={foregroundColor}\n            stopOpacity={foregroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio / 2}; ${-gradientRatio / 2}; ${1 +\n                  gradientRatio / 2}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"100%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`0; 0; ${1 + gradientRatio}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n\nSVG.defaultProps = {\n  animate: true,\n  backgroundColor: '#f5f6f7',\n  backgroundOpacity: 1,\n  baseUrl: '',\n  foregroundColor: '#eee',\n  foregroundOpacity: 1,\n  gradientRatio: 2,\n  id: null,\n  interval: 0.25,\n  rtl: false,\n  speed: 1.2,\n  style: {},\n  title: 'Loading...',\n}\n\nexport default SVG\n","import * as React from 'react'\n\nimport { Facebook, IContentLoaderProps } from '.'\nimport Svg from './Svg'\n\nconst ContentLoader: React.FC<IContentLoaderProps> = props =>\n  props.children ? <Svg {...props} /> : <Facebook {...props} />\n\nexport default ContentLoader\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderFacebook: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 476 124\" {...props}>\n    <rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\" />\n    <rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"56\" width=\"410\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"72\" width=\"380\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"88\" width=\"178\" height=\"6\" rx=\"3\" />\n    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderFacebook\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\nvar ChartLoading = function (_a) {\n    var loadingTemplate = _a.loadingTemplate, _b = _a.theme, theme = _b === void 0 ? 'light' : _b;\n    var renderLoading = function () {\n        if (loadingTemplate) {\n            return loadingTemplate;\n        }\n        return (React.createElement(ContentLoader, { viewBox: \"0 0 400 180\", width: 200, height: 90, speed: 1, backgroundColor: theme === 'dark' ? '#262626' : '#D9D9D9' },\n            React.createElement(\"rect\", { x: \"20\", y: \"5\", rx: \"0\", ry: \"0\", width: \"1\", height: \"170\" }),\n            React.createElement(\"rect\", { x: \"20\", y: \"175\", rx: \"0\", ry: \"0\", width: \"360\", height: \"1\" }),\n            React.createElement(\"rect\", { x: \"40\", y: \"75\", rx: \"0\", ry: \"0\", width: \"35\", height: \"100\" }),\n            React.createElement(\"rect\", { x: \"80\", y: \"125\", rx: \"0\", ry: \"0\", width: \"35\", height: \"50\" }),\n            React.createElement(\"rect\", { x: \"120\", y: \"105\", rx: \"0\", ry: \"0\", width: \"35\", height: \"70\" }),\n            React.createElement(\"rect\", { x: \"160\", y: \"35\", rx: \"0\", ry: \"0\", width: \"35\", height: \"140\" }),\n            React.createElement(\"rect\", { x: \"200\", y: \"55\", rx: \"0\", ry: \"0\", width: \"35\", height: \"120\" }),\n            React.createElement(\"rect\", { x: \"240\", y: \"15\", rx: \"0\", ry: \"0\", width: \"35\", height: \"160\" }),\n            React.createElement(\"rect\", { x: \"280\", y: \"135\", rx: \"0\", ry: \"0\", width: \"35\", height: \"40\" }),\n            React.createElement(\"rect\", { x: \"320\", y: \"85\", rx: \"0\", ry: \"0\", width: \"35\", height: \"90\" })));\n    };\n    return (React.createElement(\"div\", { className: \"charts-loading-container\", style: {\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            left: 0,\n            top: 0,\n            zIndex: 99,\n            backgroundColor: theme === 'dark' ? 'rgb(20, 20, 20)' : 'rgb(255, 255, 255)',\n        } }, renderLoading()));\n};\nexport default ChartLoading;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Line as G2plotLine } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nvar LineChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotLine, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default LineChart;\n"],"sourceRoot":""}